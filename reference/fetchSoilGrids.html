<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get SoilGrids 250m properties information from point locations — fetchSoilGrids • soilDB</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get SoilGrids 250m properties information from point locations — fetchSoilGrids"><meta property="og:description" content="This function obtains SoilGrids properties information (250m raster resolution) given a data.frame containing site IDs, latitudes and longitudes. SoilGrids API and maps return values as whole (integer) numbers to minimize the storage space used. These values are converted by to produce conventional units by `fetchSoilGrids()``"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">soilDB</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.6.13</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ncss-tech/soilDB/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get SoilGrids 250m properties information from point locations</h1>
    <small class="dont-index">Source: <a href="https://github.com/ncss-tech/soilDB/blob/HEAD/R/fetchSoilGrids.R" class="external-link"><code>R/fetchSoilGrids.R</code></a></small>
    <div class="hidden name"><code>fetchSoilGrids.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function obtains SoilGrids properties information (250m raster resolution) given a <code>data.frame</code> containing site IDs, latitudes and longitudes. SoilGrids API and maps return values as whole (integer) numbers to minimize the storage space used. These values are converted by to produce conventional units by `fetchSoilGrids()``</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">fetchSoilGrids</span><span class="op">(</span>
  <span class="va">x</span>,
  loc.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/aqp/man/combine-SoilProfileCollection-method.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"lat"</span>, <span class="st">"lon"</span><span class="op">)</span>,
  verbose <span class="op">=</span> <span class="cn">FALSE</span>,
  progress <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A <code>data.frame</code> containing 3 columns referring to site ID, latitude and longitude.</p></dd>
<dt>loc.names</dt>
<dd><p>Optional: Column names referring to site ID, latitude and longitude. Default: <code>c("id","lat","lon")</code></p></dd>
<dt>verbose</dt>
<dd><p>Print messages? Default: <code>FALSE</code></p></dd>
<dt>progress</dt>
<dd><p>logical, give progress when iterating over multiple requests; Default: <code>FALSE</code></p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A SoilProfileCollection</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    
<div class="section">
<h3 id="properties">Properties<a class="anchor" aria-label="anchor" href="#properties"></a></h3>
<table class="table table"><tr><td>Name</td><td>Description</td><td>Mapped units</td><td>Conversion factor</td><td>Conventional units</td></tr><tr><td>bdod</td><td>Bulk density of the fine earth fraction</td><td>cg/cm^3</td><td>100</td><td>kg/dm^3</td></tr><tr><td>cec</td><td>Cation Exchange Capacity of the soil</td><td>mmol(c)/kg</td><td>10</td><td>cmol(c)/kg</td></tr><tr><td>cfvo</td><td>Volumetric fraction of coarse fragments (&gt; 2 mm)</td><td>cm^3/dm^3 (vol per mil)</td><td>10</td><td>cm^3/100cm^3 (vol%)</td></tr><tr><td>clay</td><td>Proportion of clay particles (&lt; 0.002 mm) in the fine earth fraction</td><td>g/kg</td><td>10</td><td>g/100g (%)</td></tr><tr><td>nitrogen</td><td>Total nitrogen (N)</td><td>cg/kg</td><td>100</td><td>g/kg</td></tr><tr><td>phh2o</td><td>Soil pH</td><td>pH*10</td><td>10</td><td>pH</td></tr><tr><td>sand</td><td>Proportion of sand particles (&gt; 0.05 mm) in the fine earth fraction</td><td>g/kg</td><td>10</td><td>g/100g (%)</td></tr><tr><td>silt</td><td>Proportion of silt particles (= 0.002 mm and = 0.05 mm) in the fine earth fraction</td><td>g/kg</td><td>10</td><td>g/100g (%)</td></tr><tr><td>soc</td><td>Soil organic carbon content in the fine earth fraction</td><td>dg/kg</td><td>10</td><td>g/kg</td></tr><tr><td>ocd</td><td>Organic carbon density</td><td>hg/m^3</td><td>10</td><td>kg/m^3</td></tr><tr><td>ocs</td><td>Organic carbon stocks</td><td>t/ha</td><td>10</td><td>kg/m^2</td></tr></table><p>SoilGrids predictions are made for the six standard depth intervals specified in the GlobalSoilMap IUSS working group and its specifications. The depth intervals returned are: <code>"0-5cm", "5-15cm", "15-30cm", "30-60cm", "60-100cm", "100-200cm"</code> and the properties returned are <code>"bdod", "cec", "cfvo", "clay", "nitrogen", "phh2o", "sand", "silt", "soc"</code> -- each with 5th, 50th, 95th, mean and uncertainty values. The uncertainty values are the ratio between the inter-quantile range (90% prediction interval width) and the median : <code>(Q0.95-Q0.05)/Q0.50.</code> Point data requests are made through <code>properties/query</code> endpoint of the <a href="https://www.isric.org/explore/soilgrids/faq-soilgrids" class="external-link">SoilGrids v2.0 REST API</a>. Please check ISRIC's data policy, disclaimer and citation: <a href="https://www.isric.org/about/data-policy" class="external-link">https://www.isric.org/about/data-policy</a>.</p>
<p>Find out more information about the SoilGrids and GlobalSoilMap products here:</p><ul><li><p><a href="https://www.isric.org/explore/soilgrids/faq-soilgrids" class="external-link">https://www.isric.org/explore/soilgrids/faq-soilgrids</a></p></li>
<li><p><a href="https://www.isric.org/sites/default/files/GlobalSoilMap_specifications_december_2015_2.pdf" class="external-link">https://www.isric.org/sites/default/files/GlobalSoilMap_specifications_december_2015_2.pdf</a></p></li>
</ul></div>

    </div>
    <div id="references">
    <h2>References</h2>
    <p>Poggio, L., de Sousa, L. M., Batjes, N. H., Heuvelink, G. B. M., Kempen, B., Ribeiro, E., and Rossiter, D.: SoilGrids 2.0: producing soil information for the globe with quantified spatial uncertainty, SOIL, 7, 217-240, 2021. doi: <a href="https://doi.org/10.5194/soil-7-217-2021" class="external-link">10.5194/soil-7-217-2021</a></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Andrew G. Brown</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># \donttest{</span></span>
<span class="r-in"> <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"curl"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span class="r-in">   <span class="fu">curl</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/curl/man/nslookup.html" class="external-link">has_internet</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ncss-tech/aqp" class="external-link">aqp</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="va">your.points</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/aqp/man/combine-SoilProfileCollection-method.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, </span>
<span class="r-in">                           lat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/aqp/man/combine-SoilProfileCollection-method.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">37.9</span>, <span class="fl">38.1</span><span class="op">)</span>, </span>
<span class="r-in">                           lon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/aqp/man/combine-SoilProfileCollection-method.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">120.3</span>, <span class="op">-</span><span class="fl">121.5</span><span class="op">)</span>, </span>
<span class="r-in">                           stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="va">x</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">fetchSoilGrids</span><span class="op">(</span><span class="va">your.points</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"> </span>
<span class="r-in">  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">inherits</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">'try-error'</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">   <span class="fu"><a href="https://rdrr.io/pkg/aqp/man/SoilProfileCollection-plotting-methods.html" class="external-link">plotSPC</a></span><span class="op">(</span><span class="va">x</span>, name <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">"socQ50"</span><span class="op">)</span></span>
<span class="r-in"> <span class="op">}</span></span>
<span class="r-plt img"><img src="fetchSoilGrids-1.png" alt="" width="768" height="475"></span>
<span class="r-in"><span class="co"># }</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dylan Beaudette, Jay Skovlin, Stephen Roecker, Andrew Brown.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

