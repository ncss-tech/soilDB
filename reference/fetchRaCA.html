<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get Rapid Carbon Assessment (RaCA) data — fetchRaCA • soilDB</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get Rapid Carbon Assessment (RaCA) data — fetchRaCA"><meta property="og:description" content="Get Rapid Carbon Assessment (RaCA) data by state, geographic bounding-box, RaCA site ID, or soil series query from the SoilWeb API. This interface to the data was an experimental delivery service that does not include the latest soil carbon measurements.
Please use current RaCA distribution if you need measured SOC.
This interface will be updated sometime calendar year 2021 to include the latest soil morphology, taxonomic classification, and measured SOC values. More detailed coordinates for sample sites should also be available."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">soilDB</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.6.14</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ncss-tech/soilDB/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get Rapid Carbon Assessment (RaCA) data</h1>
    <small class="dont-index">Source: <a href="https://github.com/ncss-tech/soilDB/blob/HEAD/R/fetchRaCA.R" class="external-link"><code>R/fetchRaCA.R</code></a></small>
    <div class="hidden name"><code>fetchRaCA.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Get Rapid Carbon Assessment (RaCA) data by state, geographic bounding-box, RaCA site ID, or soil series query from the SoilWeb API. This interface to the data was an experimental delivery service that does not include the latest soil carbon measurements.</p>
<p>Please use <a href="https://www.nrcs.usda.gov/wps/portal/nrcs/detail/soils/survey/?cid=nrcs142p2_054164" class="external-link">current RaCA distribution</a> if you need measured SOC.</p>
<p>This interface will be updated sometime calendar year 2021 to include the latest soil morphology, taxonomic classification, and measured SOC values. More detailed coordinates for sample sites should also be available.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">fetchRaCA</span><span class="op">(</span>
  series <span class="op">=</span> <span class="cn">NULL</span>,
  bbox <span class="op">=</span> <span class="cn">NULL</span>,
  state <span class="op">=</span> <span class="cn">NULL</span>,
  rcasiteid <span class="op">=</span> <span class="cn">NULL</span>,
  get.vnir <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>series</dt>
<dd><p>a soil series name; case-insensitive</p></dd>
<dt>bbox</dt>
<dd><p>a bounding box in WGS84 geographic coordinates e.g. <code>c(-120, 37, -122, 38)</code>, constrained to a 5-degree block</p></dd>
<dt>state</dt>
<dd><p>a two-letter US state abbreviation; case-insensitive</p></dd>
<dt>rcasiteid</dt>
<dd><p>a RaCA site id (e.g. 'C1609C01')</p></dd>
<dt>get.vnir</dt>
<dd><p>logical, should associated VNIR spectra be downloaded? (see details)</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p></p><dl><dt><code>pedons</code>:</dt>
<dd><p>a <code>SoilProfileCollection</code> object containing site/pedon/horizon data</p></dd><dt><code>trees</code>:</dt>
<dd><p>a <code>data.frame</code> object containing tree DBH and height</p></dd><dt><code>veg</code>:</dt>
<dd><p>a <code>data.frame</code> object containing plant species</p></dd><dt><code>stock</code>:</dt>
<dd><p>a <code>data.frame</code> object containing carbon quantities (stocks) at standardized depths</p></dd><dt><code>sample</code>:</dt>
<dd><p>a <code>data.frame</code> object containing sample-level bulk density and soil organic carbon values</p></dd><dt><code>spectra</code>:</dt>
<dd><p>a numeric <code>matrix</code> containing VNIR reflectance spectra from 350--2500 nm</p></dd></dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The VNIR spectra associated with RaCA data are quite large (each gzip-compressed VNIR spectra record is about 6.6kb), so requests for these data are disabled by default. Note that VNIR spectra can only be queried by soil series or geographic BBOX.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p><a href="https://www.nrcs.usda.gov/wps/portal/nrcs/detail/soils/survey/?cid=nrcs142p2_054164" class="external-link">https://www.nrcs.usda.gov/wps/portal/nrcs/detail/soils/survey/?cid=nrcs142p2_054164</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="fetchOSD.html">fetchOSD</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>D.E. Beaudette, USDA-NRCS staff</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># \donttest{</span></span>
<span class="r-in"><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"curl"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span class="r-in">   <span class="fu">curl</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/curl/man/nslookup.html" class="external-link">has_internet</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="kw">if</span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ncss-tech/aqp" class="external-link">aqp</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in">    <span class="co"># search by series name</span></span>
<span class="r-in">    <span class="va">s</span> <span class="op">&lt;-</span> <span class="fu">fetchRaCA</span><span class="op">(</span>series<span class="op">=</span><span class="st">'auburn'</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">    <span class="co"># search by bounding-box</span></span>
<span class="r-in">    <span class="co"># s &lt;- fetchRaCA(bbox=c(-120, 37, -122, 38))</span></span>
<span class="r-in"></span>
<span class="r-in">    <span class="co"># check structure</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">s</span>, <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">    <span class="co"># extract pedons</span></span>
<span class="r-in">    <span class="va">p</span> <span class="op">&lt;-</span> <span class="va">s</span><span class="op">$</span><span class="va">pedons</span></span>
<span class="r-in"></span>
<span class="r-in">    <span class="co"># how many pedons</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/pkg/aqp/man/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">    <span class="co"># plot</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/aqp/man/combine-SoilProfileCollection-method.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/pkg/aqp/man/SoilProfileCollection-plotting-methods.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p</span>, name<span class="op">=</span><span class="st">'hzn_desgn'</span>, max.depth<span class="op">=</span><span class="fl">150</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">}</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Site coordinates have been truncated to 2 decimal places, contact the National Soil Survey Center for more detailed coordinates.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Carbon concentration and stock values are probably wrong, or at least suspect. USE WITH CAUTION.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> converting horizon IDs in column `phiid` to character</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 4 RaCA sites loaded (0.07 Mb transferred)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ pedons :Formal class 'SoilProfileCollection' [package "aqp"] with 9 slots</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ trees  : NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ veg    :'data.frame':	4 obs. of  6 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ stock  :'data.frame':	20 obs. of  13 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ sample :'data.frame':	76 obs. of  16 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ spectra: NULL</span>
<span class="r-plt img"><img src="fetchRaCA-1.png" alt="" width="768" height="475"></span>
<span class="r-in"><span class="co"># }</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dylan Beaudette, Jay Skovlin, Stephen Roecker, Andrew Brown.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

