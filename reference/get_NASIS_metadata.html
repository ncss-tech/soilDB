<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get NASIS Metadata (Domain, Column and Choice Lists) — get_NASIS_metadata • soilDB</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get NASIS Metadata (Domain, Column and Choice Lists) — get_NASIS_metadata"><meta name="description" content="Retrieve a table containing domain and column names with choice list labels/names/sequences/values from the NASIS 7 metadata tables."><meta property="og:description" content="Retrieve a table containing domain and column names with choice list labels/names/sequences/values from the NASIS 7 metadata tables."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">soilDB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.8.12</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/dominant-es.html">Mapping Dominant Ecological Sites using SSURGO Data</a></li>
    <li><a class="dropdown-item" href="../articles/fetchNASIS.html">fetchNASIS(from='pedons') Columns</a></li>
    <li><a class="dropdown-item" href="../articles/local-ssurgo.html">Local SSURGO Databases</a></li>
    <li><a class="dropdown-item" href="../articles/wcs-ssurgo.html">Map Unit Key Grids and Thematic Maps of Soil Survey Geographic (SSURGO) Data</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ncss-tech/soilDB/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get NASIS Metadata (Domain, Column and Choice Lists)</h1>
      <small class="dont-index">Source: <a href="https://github.com/ncss-tech/soilDB/blob/2.8.12/R/uncode.R" class="external-link"><code>R/uncode.R</code></a></small>
      <div class="d-none name"><code>get_NASIS_metadata.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Retrieve a table containing domain and column names with choice list labels/names/sequences/values from the NASIS 7 metadata tables.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_NASIS_metadata</span><span class="op">(</span>dsn <span class="op">=</span> <span class="cn">NULL</span>, include_description <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_NASIS_column_metadata</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  what <span class="op">=</span> <span class="st">"ColumnPhysicalName"</span>,</span>
<span>  include_description <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dsn <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dsn">dsn<a class="anchor" aria-label="anchor" href="#arg-dsn"></a></dt>
<dd><p>Optional: path or <em>DBIConnection</em> to <a href="NASISLocalDatabase.html">local database containing NASIS table structure</a>; default: <code>NULL</code></p></dd>


<dt id="arg-include-description">include_description<a class="anchor" aria-label="anchor" href="#arg-include-description"></a></dt>
<dd><p>Include "ChoiceDescription" column? Default: <code>FALSE</code></p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>character vector to match in NASIS metadata</p></dd>


<dt id="arg-what">what<a class="anchor" aria-label="anchor" href="#arg-what"></a></dt>
<dd><p>Column to match <code>x</code> against. Default <code>"ColumnPhysicalName"</code>; alternate options include <code>"DomainID"</code>, <code>"DomainName"</code>, <code>"DomainRanked"</code>, <code>"DisplayLabel"</code>, <code>"ChoiceSequence"</code>, <code>"ChoiceValue"</code>, <code>"ChoiceName"</code>, <code>"ChoiceLabel"</code>, <code>"ChoiceObsolete"</code>, <code>"ChoiceDescription"</code>, <code>"ColumnLogicalName"</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a <code>data.frame</code> containing DomainID, DomainName, DomainRanked, DisplayLabel, ChoiceSequence, ChoiceValue, ChoiceName, ChoiceLabel, ChoiceObsolete, ColumnPhysicalName, ColumnLogicalName and optionally ChoiceDescription when <code>include_description=TRUE</code>.</p>
<p>a <code>data.frame</code> containing selected NASIS metadata sorted first on <code>DomainID</code> and then on <code>ChoiceSequence</code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>These data are derived from the MetadataDomainDetail, MetadataDomainMaster, and MetadataTableColumn tables and help with mapping between values stored in the NASIS database and human-readable values. The human-readable values align with the values returned in public facing interfaces such as SSURGO via Soil Data Access and NASIS Web Reports. The data in these tables can also be used to create <em>ordered</em> factors where options for levels of a particular data element follow a logical <code>ChoiceSequence</code>.</p>
<p>If a local NASIS instance is set up, and this is the first time <code>get_NASIS_metadata()</code> has been called, the metadata will be obtained from the NASIS local database. Subsequent runs in the same session will use a copy of the data object <code>NASIS.metadata</code> cached in <code>soilDB.env</code> which can be accessed with <code>get_soilDB_env()$NASIS.metadata</code>.</p>
<p>For users without a local NASIS instance, a cached copy of the NASIS metadata are used <code>(data/metadata.rda)</code>.</p>
<p>See <code><a href="metadata.html">?soilDB::metadata</a></code> for additional details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">get_NASIS_column_metadata</span><span class="op">(</span><span class="st">"texcl"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      DomainID    DomainName DomainRanked DisplayLabel ChoiceSequence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6363      189 texture_class            0            1              1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6359      189 texture_class            0            1              2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6343      189 texture_class            0            1              3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6351      189 texture_class            0            1              4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6345      189 texture_class            0            1              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6353      189 texture_class            0            1              6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6355      189 texture_class            0            1              7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6347      189 texture_class            0            1              8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6349      189 texture_class            0            1              9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6348      189 texture_class            0            1             10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6350      189 texture_class            0            1             11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6344      189 texture_class            0            1             12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6361      189 texture_class            0            1             13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6358      189 texture_class            0            1             14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6357      189 texture_class            0            1             15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6362      189 texture_class            0            1             16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6360      189 texture_class            0            1             17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6356      189 texture_class            0            1             18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6352      189 texture_class            0            1             19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6346      189 texture_class            0            1             20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6354      189 texture_class            0            1             21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      ChoiceValue ChoiceName          ChoiceLabel ChoiceObsolete</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6363          21          c                 Clay              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6359          17         cl            Clay loam              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6343           1        cos          Coarse sand              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6351           9       cosl    Coarse sandy loam              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6345           3         fs            Fine sand              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6353          11        fsl      Fine sandy loam              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6355          13          l                 Loam              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6347           5       lcos    Loamy coarse sand              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6349           7        lfs      Loamy fine sand              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6348           6         ls           Loamy sand              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6350           8       lvfs Loamy very fine sand              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6344           2          s                 Sand              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6361          19         sc           Sandy clay              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6358          16        scl      Sandy clay loam              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6357          15         si                 Silt              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6362          20        sic           Silty clay              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6360          18       sicl      Silty clay loam              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6356          14        sil            Silt loam              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6352          10         sl           Sandy loam              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6346           4        vfs       Very fine sand              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6354          12       vfsl Very fine sandy loam              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      ColumnPhysicalName ColumnLogicalName</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6363              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6359              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6343              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6351              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6345              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6353              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6355              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6347              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6349              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6348              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6350              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6344              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6361              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6358              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6357              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6362              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6360              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6356              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6352              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6346              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6354              texcl     texture_class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                                   ChoiceDescription</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6363 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6359 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6343 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6351 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6345 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6353 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6355 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6347 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6349 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6348 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6350 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6344 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6361 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6358 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6357 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6362 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6360 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6356 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6352 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6346 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6354 Reference:  Soil Survey Manual, Agricultural Handbook No. 18, Soil Survey Staff, USDA, Natural Resources Conservation Service.</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dylan Beaudette, Jay Skovlin, Stephen Roecker, Andrew Brown.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

