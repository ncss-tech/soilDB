<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get Daily Climate Data from USDA-NRCS SCAN (Soil Climate Analysis Network) Stations — fetchSCAN • soilDB</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get Daily Climate Data from USDA-NRCS SCAN (Soil Climate Analysis Network) Stations — fetchSCAN"><meta name="description" content="Query soil/climate data from USDA-NRCS SCAN Stations."><meta property="og:description" content="Query soil/climate data from USDA-NRCS SCAN Stations."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">soilDB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.8.14</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/dominant-es.html">Mapping Dominant Ecological Sites using SSURGO Data</a></li>
    <li><a class="dropdown-item" href="../articles/fetchNASIS.html">fetchNASIS(from='pedons') Columns</a></li>
    <li><a class="dropdown-item" href="../articles/local-ssurgo.html">Local Soil Survey Geographic (SSURGO) Databases</a></li>
    <li><a class="dropdown-item" href="../articles/wcs-ssurgo.html">Map Unit Key Grids and Thematic Maps of Soil Survey Geographic (SSURGO) Data</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ncss-tech/soilDB/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get Daily Climate Data from USDA-NRCS SCAN (Soil Climate Analysis Network) Stations</h1>
      <small class="dont-index">Source: <a href="https://github.com/ncss-tech/soilDB/blob/master/R/fetchSCAN.R" class="external-link"><code>R/fetchSCAN.R</code></a></small>
      <div class="d-none name"><code>fetchSCAN.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Query soil/climate data from USDA-NRCS SCAN Stations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fetchSCAN</span><span class="op">(</span></span>
<span>  site.code <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  report <span class="op">=</span> <span class="st">"SCAN"</span>,</span>
<span>  timeseries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Daily"</span>, <span class="st">"Hourly"</span><span class="op">)</span>,</span>
<span>  tz <span class="op">=</span> <span class="st">"US/Central"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">SCAN_sensor_metadata</span><span class="op">(</span><span class="va">site.code</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">SCAN_site_metadata</span><span class="op">(</span>site.code <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-site-code">site.code<a class="anchor" aria-label="anchor" href="#arg-site-code"></a></dt>
<dd><p>a vector of site codes. If <code>NULL</code> <code>SCAN_site_metadata()</code> returns metadata for all SCAN sites and no sensor data.</p></dd>


<dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>a vector of years</p></dd>


<dt id="arg-report">report<a class="anchor" aria-label="anchor" href="#arg-report"></a></dt>
<dd><p>report name, single value only; default <code>'SCAN'</code>, other example options include individual sensor codes, e.g. <code>'SMS'</code> for Soil Moisture Storage, <code>'TEMP'</code> for temperature</p></dd>


<dt id="arg-timeseries">timeseries<a class="anchor" aria-label="anchor" href="#arg-timeseries"></a></dt>
<dd><p>either <code>'Daily'</code> or <code>'Hourly'</code></p></dd>


<dt id="arg-tz">tz<a class="anchor" aria-label="anchor" href="#arg-tz"></a></dt>
<dd><p>Target timezone to convert <code>datetime</code> columns of results. Default: <code>"US/Central"</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments. May include <code>intervalType</code>, <code>format</code>, <code>sitenum</code>, <code>interval</code>, <code>year</code>, <code>month</code>. Presence of additional arguments bypasses default batching functionality provided in the function and submits a 'raw' request to the API form.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a <code>list</code> of <code>data.frame</code> objects, where each element name is a sensor type, plus a <code>metadata</code> table; different <code>report</code> types change the types of sensor data returned. <code>SCAN_sensor_metadata()</code> and <code>SCAN_site_metadata()</code> return a <code>data.frame</code>. <code>NULL</code> on bad request.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Possible above and below ground sensor types include: 'SMS' (soil moisture), 'STO' (soil temperature), 'SAL' (salinity), 'TAVG' (daily average air temperature), 'TMIN' (daily minimum air temperature), 'TMAX' (daily maximum air temperature), 'PRCP' (daily precipitation), 'PREC' (daily precipitation), 'SNWD' (snow depth), 'WTEQ' (snow water equivalent),'WDIRV' (wind direction), 'WSPDV' (wind speed), 'LRADT' (solar radiation/langley total).</p>
<p>This function converts below-ground sensor depth from inches to cm. All temperature values are reported as degrees C. Precipitation, snow depth, and snow water content are reported as <em>inches</em>.</p>
<p>The <code>datetime</code> column in sensor data results is converted to the target time zone specified in <code>tz</code> argument, the default is <code>"US/Central"</code>. Use <code>tz = "UTC"</code> (or other <code><a href="https://rdrr.io/r/base/timezones.html" class="external-link">OlsonNames()</a></code> that do not use daylight savings, e.g. <code>"US/Arizona"</code>) to avoid having a mix of time offsets due to daylight savings time.</p><div class="section">
<h3 id="scan-sensors">SCAN Sensors<a class="anchor" aria-label="anchor" href="#scan-sensors"></a></h3>


<p>All Soil Climate Analysis Network (SCAN) sensor measurements are reported hourly.</p><table class="table table"><tr><td>Element Measured</td><td>Sensor Type</td><td>Precision</td></tr><tr><td>Air Temperature</td><td>Shielded thermistor</td><td>0.1 degrees C</td></tr><tr><td>Barometric Pressure</td><td>Silicon capacitive pressure sensor</td><td>1%</td></tr><tr><td>Precipitation</td><td>Storage-type gage or tipping bucket</td><td>Storage: 0.1 inches;</td></tr><tr><td>Relative Humidity</td><td>Thin film capacitance-type sensor</td><td>1%</td></tr><tr><td>Snow Depth</td><td>Sonic sensor (not on all stations)</td><td>0.5 inches</td></tr><tr><td>Snow Water Content</td><td>Snow pillow device and a pressure transducer (not on all stations)</td><td>0.1 inches</td></tr><tr><td>Soil Moisture</td><td>Dielectric constant measuring device. Typical measurements are at 2", 4", 8", 20", and 40" where possible.</td><td>0.50%</td></tr><tr><td>Soil Temperature</td><td>Encapsulated thermistor. Typical measurements are at 2", 4", 8", 20", and 40" where possible.</td><td>0.1 degrees C</td></tr><tr><td>Solar Radiation</td><td>Pyranometer</td><td>0.01 watts per meter</td></tr><tr><td>Wind Speed and Direction</td><td>Propellor-type anemometer</td><td>Speed: 0.1 miles per hour; Direction: 1 degree</td></tr></table></div>

<div class="section">
<h3 id="snotel-sensors">SNOTEL Sensors<a class="anchor" aria-label="anchor" href="#snotel-sensors"></a></h3>


<p>All Snow Telemetry (SNOTEL) sensor measurements are reported daily.</p><table class="table table"><tr><td>Element Measured</td><td>Sensor Type</td><td>Precision</td></tr><tr><td>Air Temperature</td><td>Shielded thermistor</td><td>0.1 degrees C</td></tr><tr><td>Barometric Pressure</td><td>Silicon capacitive pressure sensor</td><td>1%</td></tr><tr><td>Precipitation</td><td>Storage-type gage or tipping bucket</td><td>Storage: 0.1 inches; Tipping bucket: 0.01 inches</td></tr><tr><td>Relative Humidity</td><td>Thin film capacitance-type sensor</td><td>1%</td></tr><tr><td>Snow Depth</td><td>Sonic sensor</td><td>0.5 inches</td></tr><tr><td>Snow Water Content</td><td>Snow pillow device and a pressure transducer</td><td>0.1 inches</td></tr><tr><td>Soil Moisture</td><td>Dielectric constant measuring device. Typical measurements are at 2", 4", 8", 20", and 40" where possible.</td><td>0.50%</td></tr><tr><td>Soil Temperature</td><td>Encapsulated thermistor. Typical measurements are at 2", 4", 8", 20", and 40" where possible.</td><td>0.1 degrees C</td></tr><tr><td>Solar Radiation</td><td>Pyranometer</td><td>0.01 watts per meter</td></tr><tr><td>Wind Speed and Direction</td><td>Propellor-type anemometer</td><td>Speed: 0.1 miles per hour; Direction: 1 degree</td></tr></table><p>See the <a href="http://ncss-tech.github.io/AQP/soilDB/fetchSCAN-demo.html" class="external-link">fetchSCAN tutorial</a> for additional usage and visualization examples.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>See the <a href="https://www.nrcs.usda.gov/resources/data-and-reports/soil-climate-analysis-network" class="external-link">Soil Climate Analysis Network</a> home page for more information on the SCAN program,  and links to other associated programs such as SNOTEL, at the National Weather and Climate Center. You can get information on available web services, as well as interactive maps of snow water equivalent, precipitation and streamflow.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>D.E. Beaudette, A.G. Brown, J.M. Skovlin</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>    <span class="co"># get data</span></span></span>
<span class="r-in"><span>    <span class="va">x</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">fetchSCAN</span><span class="op">(</span>site.code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">356</span>, <span class="fl">2072</span><span class="op">)</span>, year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2015</span>, <span class="fl">2016</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># get sensor metadata</span></span></span>
<span class="r-in"><span>    <span class="va">m</span> <span class="op">&lt;-</span> <span class="fu">SCAN_sensor_metadata</span><span class="op">(</span>site.code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">356</span>, <span class="fl">2072</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">m</span></span></span>
<span class="r-in"><span>    </span></span>
<span class="r-in"><span>    <span class="co"># get site metadata</span></span></span>
<span class="r-in"><span>    <span class="va">m</span> <span class="op">&lt;-</span> <span class="fu">SCAN_site_metadata</span><span class="op">(</span>site.code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">356</span>, <span class="fl">2072</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">m</span></span></span>
<span class="r-in"><span>    </span></span>
<span class="r-in"><span>    <span class="co"># # get hourly data (warning, result is large ~11MB) </span></span></span>
<span class="r-in"><span>    <span class="co"># x &lt;- try(fetchSCAN(site.code = c(356, 2072), </span></span></span>
<span class="r-in"><span>    <span class="co">#                    year = 2015, </span></span></span>
<span class="r-in"><span>    <span class="co">#                    timeseries = "Hourly"))</span></span></span>
<span class="r-in"><span>    <span class="co">#</span></span></span>
<span class="r-in"><span>    <span class="co"># # data are in US/Central time, standard or daylight savings time based on day of year</span></span></span>
<span class="r-in"><span>    <span class="co"># unique(format(x$SMS$datetime, '%Z'))</span></span></span>
<span class="r-in"><span>    <span class="co">#</span></span></span>
<span class="r-in"><span>    <span class="co"># # the site metadata indicate timeseries data time zone (dataTimeZone)</span></span></span>
<span class="r-in"><span>    <span class="co"># # for site 356 the timezone is offset of 8 hours behind UTC</span></span></span>
<span class="r-in"><span>    <span class="co">#</span></span></span>
<span class="r-in"><span>    <span class="co"># # to obtain all datetime data with a consistent offset use ETC GMT offset</span></span></span>
<span class="r-in"><span>    <span class="co"># # e.g. "Etc/GMT+8". note the sign is inverted ("GMT+8" vs. `dataTimeZone=-8`)</span></span></span>
<span class="r-in"><span>    <span class="co"># x &lt;- try(fetchSCAN(site.code = c(356, 2072), </span></span></span>
<span class="r-in"><span>    <span class="co">#          year = 2015, </span></span></span>
<span class="r-in"><span>    <span class="co">#          timeseries = "Hourly", </span></span></span>
<span class="r-in"><span>    <span class="co">#          tz = "Etc/GMT+8"))</span></span></span>
<span class="r-in"><span>    </span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dylan Beaudette, Jay Skovlin, Stephen Roecker, Andrew Brown.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

