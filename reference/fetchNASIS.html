<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get a pedon or component data SoilProfileCollection from NASIS — fetchNASIS • soilDB</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get a pedon or component data SoilProfileCollection from NASIS — fetchNASIS"><meta property="og:description" content="Fetch commonly used site/pedon/horizon data or component from NASIS,
returned as a SoilProfileCollection object."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">soilDB</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ncss-tech/soilDB/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get a pedon or component data SoilProfileCollection from NASIS</h1>
    <small class="dont-index">Source: <a href="https://github.com/ncss-tech/soilDB/blob/HEAD/R/fetchNASIS.R" class="external-link"><code>R/fetchNASIS.R</code></a></small>
    <div class="hidden name"><code>fetchNASIS.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Fetch commonly used site/pedon/horizon data or component from NASIS,
returned as a SoilProfileCollection object.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">fetchNASIS</span><span class="op">(</span>
  from <span class="op">=</span> <span class="st">"pedons"</span>,
  url <span class="op">=</span> <span class="cn">NULL</span>,
  SS <span class="op">=</span> <span class="cn">TRUE</span>,
  rmHzErrors <span class="op">=</span> <span class="cn">TRUE</span>,
  nullFragsAreZero <span class="op">=</span> <span class="cn">TRUE</span>,
  soilColorState <span class="op">=</span> <span class="st">"moist"</span>,
  mixColors <span class="op">=</span> <span class="cn">TRUE</span>,
  lab <span class="op">=</span> <span class="cn">FALSE</span>,
  fill <span class="op">=</span> <span class="cn">FALSE</span>,
  stringsAsFactors <span class="op">=</span> <span class="cn">NULL</span>,
  dsn <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>from</dt>
<dd><p>determines what objects should fetched? ('pedons' | 'components' | 'pedon_report')</p></dd>
<dt>url</dt>
<dd><p>string specifying the url for the NASIS pedon_report (default:
<code>NULL</code>)</p></dd>
<dt>SS</dt>
<dd><p>fetch data from the currently loaded selected set in NASIS or from
the entire local database (default: <code>TRUE</code>)</p></dd>
<dt>rmHzErrors</dt>
<dd><p>should pedons with horizon depth errors be removed from
the results? (default: <code>TRUE</code>)</p></dd>
<dt>nullFragsAreZero</dt>
<dd><p>should fragment volumes of <code>NULL</code> be interpreted as <code>0</code>?
(default: <code>TRUE</code>), see details</p></dd>
<dt>soilColorState</dt>
<dd><p>Used only for <code>from='pedons'</code>; which colors should be used to generate the convenience field <code>soil_color</code>? (<code>'moist'</code> or <code>'dry'</code>)</p></dd>
<dt>mixColors</dt>
<dd><p>should mixed colors be calculated (Default: <code>TRUE</code>) where multiple colors are populated for the same moisture state in a horizon? <code>FALSE</code> takes the dominant color for each horizon moist/dry state.</p></dd>
<dt>lab</dt>
<dd><p>should the <code>phlabresults</code> child table be fetched with
site/pedon/horizon data (default: <code>FALSE</code>)</p></dd>
<dt>fill</dt>
<dd><p>include pedon or component records without horizon data in result? (default: <code>FALSE</code>)</p></dd>
<dt>stringsAsFactors</dt>
<dd><p>deprecated</p></dd>
<dt>dsn</dt>
<dd><p>Optional: path to local SQLite database containing NASIS
table structure; default: <code>NULL</code></p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A SoilProfileCollection object</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function imports data from NASIS into R as a
<code>SoilProfileCollection</code> object. It "flattens" NASIS pedon and component
tables, including their child tables, into several more easily manageable
data frames. Primarily these functions access the local NASIS database using
an ODBC connection. However using the <code>fetchNASIS()</code> argument
<code>from = "pedon_report"</code>, data can be read from the NASIS Report
'fetchNASIS', as either a txt file or url. The primary purpose of
<code>fetchNASIS(from = "pedon_report")</code> is to facilitate importing datasets
larger than 8000+ pedons/components.</p>
<p>The value of <code>nullFragsAreZero</code> will have a significant impact on the
rock fragment fractions returned by fetchNASIS. Set <code>nullFragsAreZero =
FALSE</code> in those cases where there are many data-gaps and <code>NULL</code> rock
fragment values should be interpreted as <code>NULL</code>. Set
<code>nullFragsAreZero = TRUE</code> in those cases where <code>NULL</code> rock
fragment values should be interpreted as 0.</p>
<p>This function attempts to do most of the boilerplate work when extracting
site/pedon/horizon or component data from a local NASIS database. Pedons
that are missing horizon data, or have errors in their horizonation are
excluded from the returned object, however, their IDs are printed on the
console. Pedons with combination horizons (e.g. B/C) are erroneously marked
as errors due to the way in which they are stored in NASIS as two
overlapping horizon records.</p>
<p>Tutorials:</p><ul><li><p><a href="http://ncss-tech.github.io/AQP/soilDB/fetchNASIS-mini-tutorial.html" class="external-link">fetchNASIS Pedons Tutorial</a></p></li>
<li><p><a href="http://ncss-tech.github.io/AQP/soilDB/NASIS-component-data.html" class="external-link">fetchNASIS Components Tutorial</a></p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code>get_component_data_from_NASIS()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>D. E. Beaudette, J. M. Skovlin, S.M. Roecker, A.G. Brown</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dylan Beaudette, Jay Skovlin, Stephen Roecker, Andrew Brown.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

