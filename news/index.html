<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • soilDB</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">soilDB</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.6.11</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ncss-tech/soilDB/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/ncss-tech/soilDB/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.11" id="soildb-2611-2021-12-21">soilDB 2.6.11 (2021-12-21)<a class="anchor" aria-label="anchor" href="#soildb-2611-2021-12-21"></a></h2>
<ul><li>
<code><a href="../reference/fetchSDA.html">fetchSDA()</a></code> handle NULL component-level results with an informative error</li>
<li>
<code><a href="../reference/fetchSDA.html">fetchSDA()</a></code> now (again) returns mapunit/legend-level information via <code><a href="../reference/fetchNASIS.html">get_mapunit_from_NASIS()</a></code>
</li>
<li>
<code><a href="../reference/createStaticNASIS.html">createStaticNASIS()</a></code> and queries to SQLite NASIS snapshots now preserve date/time using RSQLite 2.2.4+ via <code>extended_types=TRUE</code> argument to <code>dbConnect()</code>
</li>
<li>
<code><a href="../reference/get_soilseries_from_NASIS.html">get_soilseries_from_NASIS()</a></code> now returns <code>soiltaxclasslastupdated</code> as a date/time and stores the year in calculated column <code>soiltaxclassyearlastupdated</code>
</li>
<li>Added several tables to thematic groups in <code><a href="../reference/get_NASIS_table_name_by_purpose.html">get_NASIS_table_name_by_purpose()</a></code>
</li>
<li>
<code><a href="../reference/fetchOSD.html">fetchOSD()</a></code> gains surface shape proportions in extended <code>shape_across</code> and <code>shape_down</code> tables</li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code> <code>what='mukey'</code> now works with <code>db='STATSGO'</code>
</li>
<li>Added metadata to <code>loafercreek</code>, <code>gopheridge</code> and <code>mineralKing</code>
</li>
<li>
<code>waterYearDay()</code> pass through <code>format</code> argument for POSIX time conversion</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.10" id="soildb-2610-2021-12-14">soilDB 2.6.10 (2021-12-14)<small>2021-12-15</small><a class="anchor" aria-label="anchor" href="#soildb-2610-2021-12-14"></a></h2>
<ul><li>
<code><a href="../reference/waterDayYear.html">waterDayYear()</a></code> and <code>.formatDates()</code> allow optional <code>format</code> and <code>tz</code> argument; used for consistent POSIX time conversion in tests where date/time has granularity finer than one day</li>
<li>
<code><a href="../reference/fetchSDA.html">fetchSDA()</a></code> extensions for better handling of components with no horizon data</li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code> and <code><a href="../reference/processSDA_WKT.html">processSDA_WKT()</a></code> fully use {sf}, replacing {sp} in these contexts</li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code> gains argument <code>byFeature</code> to use multiple single-feature queries and combine the results with a unique feature ID specified by <code>idcol</code> argument. This allows for specific feature intersection results without secondary spatial overlay of the polygons (<a href="https://github.com/ncss-tech/soilDB/issues/222" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/222</a>)</li>
<li>
<code><a href="../reference/dbConnectNASIS.html">dbConnectNASIS()</a></code> no longer requires that the NASIS credentials option be set if the <code>dsn</code> argument is specified.</li>
<li>Rebuilt <code>loafercreek</code>, <code>gopheridge</code> and <code>mineralKing</code> from latest <code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> results.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.9" id="soildb-269-2021-12-02">soilDB 2.6.9 (2021-12-02)<small>2021-12-03</small><a class="anchor" aria-label="anchor" href="#soildb-269-2021-12-02"></a></h2>
<ul><li>Replaced functionality using {plyr}/{reshape2} with {base}/{data.table}</li>
<li>
<code><a href="../reference/processSDA_WKT.html">processSDA_WKT()</a></code>: replaced {rgeos} with {wk} and {sf}</li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code>: added <code>query_string</code> argument</li>
<li>
<code><a href="../reference/get_SDA_property.html">get_SDA_property()</a></code>: fixes for MIN/MAX aggregation (<a href="https://github.com/ncss-tech/soilDB/issues/219" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/219</a>)</li>
<li>
<code><a href="../reference/fetchSDA.html">get_component_from_SDA()</a></code>: fragment size thresholds now conform with new (clarified) NSSH definitions</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.8" id="soildb-268-2021-11-05">soilDB 2.6.8 (2021-11-05)<a class="anchor" aria-label="anchor" href="#soildb-268-2021-11-05"></a></h2>
<ul><li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> upgrades: use data.table and base internally for data aggregation</li>
<li>
<code>fetchNASIS("components")</code> now “sieves” rock fragments and human artifacts using same routines as for pedons; respects <code>nullFragsAreZero</code> argument</li>
<li>
<code>fetchKSSL(..., returnGeochemicalData = TRUE)</code> safely returns 0-length <code>data.frame</code> when no data available</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.7" id="soildb-267-2021-10-27">soilDB 2.6.7 (2021-10-27)<a class="anchor" aria-label="anchor" href="#soildb-267-2021-10-27"></a></h2>
<ul><li>Removed several packages from Suggests: {gridExtra}, {ggplot2}, {viridisLite}, {mapview}, {rasterVis}</li>
<li>
<code><a href="../reference/get_OSD.html">get_OSD()</a></code>: Handle “NA” and type conversion for JSON results an convert spaces to underscores for file names as needed</li>
<li>
<code><a href="../reference/fetchSCAN.html">fetchSCAN()</a></code>: graceful handling of timeout and converted from {plyr} to {data.table}; (<a href="https://github.com/ncss-tech/soilDB/issues/161" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/161</a>, <a href="https://github.com/ncss-tech/soilDB/issues/184" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/184</a>)</li>
<li>
<code><a href="../reference/get_EDIT_ecoclass_by_geoUnit.html">get_EDIT_ecoclass_by_geoUnit()</a></code>: graceful handling of timeout</li>
<li>
<code><a href="../reference/get_SDA_muaggatt.html">get_SDA_muaggatt()</a></code>: add <code>query_string</code> argument for parity with other “SSURGO on demand” / <code>get_SDA_*()</code> functions</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.6" id="soildb-266-2021-09-24">soilDB 2.6.6 (2021-09-24)<a class="anchor" aria-label="anchor" href="#soildb-266-2021-09-24"></a></h2>
<ul><li>
<code><a href="../reference/get_SDA_pmgroupname.html">get_SDA_pmgroupname()</a></code> and <code><a href="../reference/get_SDA_hydric.html">get_SDA_hydric()</a></code> now support alternate aggregation methods.
<ul><li>Default for <code><a href="../reference/get_SDA_pmgroupname.html">get_SDA_pmgroupname()</a></code> is <code>"dominant component"</code>, now also supports <code>"dominant condition"</code> and <code>"none"</code>.</li>
<li>Default for <code><a href="../reference/get_SDA_hydric.html">get_SDA_hydric()</a></code> is a map unit level aggregation of components and assigns new classes ; now supports <code>"dominant component"</code>, <code>"dominant condition"</code> and <code>"none"</code>
</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.5" id="soildb-265-2021-08-19">soilDB 2.6.5 (2021-08-19)<small>2021-08-21</small><a class="anchor" aria-label="anchor" href="#soildb-265-2021-08-19"></a></h2>
<ul><li>API calls that return geometry in projected coordinates (AEA/NAD83) now use ESPG:5070 instead of EPSG:6350</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.4" id="soildb-264-2021-08-06">soilDB 2.6.4 (2021-08-06)<a class="anchor" aria-label="anchor" href="#soildb-264-2021-08-06"></a></h2>
<ul><li>
<code>fetchNASIS(from="pedons")</code> now supports <code>fill=TRUE</code> argument just like <code>from="components"</code> to include pedons that have no horizon records</li>
<li>
<code><a href="../reference/createStaticNASIS.html">createStaticNASIS()</a></code>: column order should match NASIS, even if data types require reorder for ODBC driver</li>
<li>
<code><a href="../reference/fetchSoilGrids.html">fetchSoilGrids()</a></code> bug fixes, updates to metadata and references in documentation (<a href="https://github.com/ncss-tech/soilDB/issues/201" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/201</a>)
<ul><li>Corrected the conversion factor used for predicted <code>nitrogen</code> values (conversion from cg/kg to g/kg)</li>
<li>Corrected the conversion factor used for uncertainty in <code>bdod</code> and <code>nitrogen</code> (SoilGrids uncertainty layer always uses factor of 10 to create integers)</li>
<li>Improved error handling</li>
<li>Added <code>progress</code> and <code>verbose</code> arguments for text progress bar and additional message output</li>
<li>Added support for {sf} and {sp} POINT geometry inputs</li>
</ul></li>
<li>Add <code><a href="../reference/get_SDA_coecoclass.html">get_SDA_coecoclass()</a></code> SOD-style method for mapunit/component level summaries of ecological site and other vegetation class information</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.3" id="soildb-263-2021-07-22">soilDB 2.6.3 (2021-07-22)<small>2021-07-23</small><a class="anchor" aria-label="anchor" href="#soildb-263-2021-07-22"></a></h2>
<ul><li>
<code><a href="../reference/SDA_query.html">SDA_query()</a></code> and all functions that call <code><a href="../reference/SDA_query.html">SDA_query()</a></code> get proper column class handling (related to <a href="https://github.com/ncss-tech/soilDB/issues/190" class="external-link">#190</a>), however:
<ul><li>be careful with the use of CAST(): unknown datatypes may not be correctly interpreted</li>
<li>previous column classes that were incorrectly guessed by <code><a href="https://rdrr.io/r/utils/type.convert.html" class="external-link">type.convert()</a></code> may have changed (e.g. <code>component.wei</code>)</li>
</ul></li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code> can now be used to return soil survey area symbols or geometry using <code>what="areasymbol"</code> or <code>what="sapolygon"</code>, respectively</li>
<li>Added new columns to soil classification (“SC”) table result of <code><a href="../reference/get_soilseries_from_NASIS.html">get_soilseries_from_NASIS()</a></code>; now including taxonomic mineralogy class which may contain multiple parts for series with strongly contrasting control sections</li>
<li>Updates to <code>get_SDA_*()</code> methods
<ul><li>Extends <code>get_SDA_property(property = ...)</code> and <code>get_SDA_interpretation(rulename = ...)</code> vectorization over property/rulename to work with any aggregation method.
<ul><li>Now supports: Dominant Condition, Min, Max, Dominant Component, Weighted Average</li>
</ul></li>
<li>Add <code>query_string</code> argument (default: <code>FALSE</code>). Set as <code>TRUE</code> to skip submitting query to SDA, instead returning a string of the query that would have been sent instead of <em>data.frame</em> result</li>
<li>
<code>get_SDA_property</code>: better handling of NULL, miscellaneous areas, and property-specific weighting
<ul><li>Remove <code>ISNULL(x, 0)</code> logic that affected weighted averages in presence of missing data</li>
<li>Conditional calculation of horizon weights considering NULL values for requested properties (unique weights for each property)</li>
<li>New default argument <code>include_minors=FALSE</code> includes only components where <code>majcompflag = 'Yes'</code> in result</li>
<li>New default argument <code>miscellaneous_areas=FALSE</code> removes miscellaneous land types <code>compkind</code> values from result</li>
<li>Organic and bedrock layers are no longer removed from “Weighted Average”, “MIN” or “MAX” aggregations</li>
</ul></li>
<li>
<code>get_SDA_interpretation</code>: added argument not_rated_value with default value of <code>NA</code> to set “not rated”" values across methods/queries. For backwards compatibility with original SQL use <code>not_rated_value = 99.0</code>
</li>
<li>Standardizing MUKEY column name (and other keys) as lowercase in results</li>
<li>More informative error messages for bad input / arguments inconsistent with specified method</li>
</ul></li>
<li>Thanks to <a href="https://github.com/hammerly" class="external-link">@hammerly</a> who pointed out weighted averaging of NASIS <code>phlabresults</code> wasn’t working as expected and for highlighting some more improvements (<a href="https://github.com/ncss-tech/soilDB/issues/192" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/192</a>)</li>
<li>
<code><a href="../reference/get_OSD.html">get_OSD()</a></code> TXT and HTML formats now supported (in addition to JSON) through a common function interface</li>
<li>Added <code><a href="../reference/get_NASIS_table_key_by_name.html">get_NASIS_table_key_by_name()</a></code> <code><a href="../reference/get_NASIS_table_key_by_name.html">get_NASIS_fkey_by_name()</a></code>, <code><a href="../reference/get_NASIS_table_key_by_name.html">get_NASIS_pkeyref_by_name()</a></code>, <code><a href="../reference/get_NASIS_table_key_by_name.html">get_NASIS_pkey_by_name()</a></code>, <code><a href="../reference/get_NASIS_table_name_by_purpose.html">get_NASIS_table_name_by_purpose()</a></code> methods for helping get information on primary/foreign keys and thematic groups of NASIS tables (useful for creating SQLite/external snapshots of NASIS tables)</li>
<li>
<code><a href="../reference/fetchNASIS.html">get_mapunit_from_NASIS()</a></code>, <code><a href="../reference/fetchVegdata.html">get_legend_from_NASIS()</a></code> and <code><a href="../reference/fetchVegdata.html">get_lmuaoverlap_from_NASIS()</a></code> now works for “MLRA Survey Area” <code>areatypename</code> and no longer is limited by constraints on <code>legendsuituse</code> or <code>mustatus</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.2" id="soildb-262-2021-05-14">soilDB 2.6.2 (2021-05-14)<small>2021-05-16</small><a class="anchor" aria-label="anchor" href="#soildb-262-2021-05-14"></a></h2>
<ul><li>Added <code>formativeElement</code> argument to <code><a href="../reference/taxaExtent.html">taxaExtent()</a></code> (SoilWeb taxon extent function)
<ul><li>“Formative elements” are derived from the dictionary provided by the {SoilTaxonomy} package (<a href="https://cran.r-project.org/package=SoilTaxonomy" class="external-link uri">https://cran.r-project.org/package=SoilTaxonomy</a>)</li>
<li>For example: <code>taxaExtent("abruptic", level = 'subgroup', formativeElement = TRUE)</code> will get an 800m grid (for SSURGO data in CONUS) showing extent of taxa that have “abruptic” in subgroup-level taxon name</li>
</ul></li>
<li>
<code>fetchNASIS(from="pedons")</code> result now contains the <code>"taxclname"</code> (full family-level taxon name) field from the NASIS <code>pedon</code> table; this value is calculated based on contents of <code>petaxhistory</code> child table</li>
<li>
<code>get_SDA_interpretation</code> and <code>get_SDA_property</code> now support aggregation <code>method="NONE"</code> allowing for returning properties, classes and ratings for individual components or horizons (<a href="https://github.com/ncss-tech/soilDB/pull/181" class="external-link uri">https://github.com/ncss-tech/soilDB/pull/181</a>)</li>
<li>
<code>ISSR800.wcs</code> and <code>mukey.wcs</code> now return a result that inherits from <code>try-error</code> (and a message) if the Web Coverage Service query fails</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.1" id="soildb-261-2021-04-07">soilDB 2.6.1 (2021-04-07)<small>2021-04-18</small><a class="anchor" aria-label="anchor" href="#soildb-261-2021-04-07"></a></h2>
<ul><li>Connections to local NASIS and various MS Access databases now use <code>DBI</code> and <code>odbc</code>, replacing <code>RODBC</code>
</li>
<li>New methods <code>dbConnectNASIS</code> and <code>dbQueryNASIS</code> for NASIS access with read-only credentials, fetching query results, and closing the <em>DBIConnection</em> upon completion</li>
<li>NASIS methods use <code>dsn</code> argument to specify a local “static” SQLite file containing NASIS tables, or custom <em>DBIConnection</em> to a database with NASIS schema
<ul><li>Default <code>dsn = NULL</code> uses <code>"nasis_local"</code> <a href="http://ncss-tech.github.io/AQP/soilDB/setup_local_nasis.html" class="external-link">ODBC connection</a> to local NASIS SQL Server</li>
</ul></li>
<li>Horizon depth logic checking is now done with <code><a href="https://rdrr.io/pkg/aqp/man/checkHzDepthLogic.html" class="external-link">aqp::checkHzDepthLogic()</a></code>, powered by {data.table}</li>
<li>Added several new SDA query methods based on <a href="https://github.com/ncss-tech/ssurgoOnDemand" class="external-link uri">https://github.com/ncss-tech/ssurgoOnDemand</a> by <a href="https://github.com/jneme910" class="external-link">@jneme910</a> and <a href="https://github.com/cferguso" class="external-link">@cferguso</a>:
<ul><li>
<code>get_SDA_property</code>, <code>get_SDA_interpretation</code>, <code>get_SDA_muaggatt</code>, <code>get_SDA_hydric</code>, <code>get_SDA_pmgroupname</code>
</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.0" id="soildb-260-2021-02-18">soilDB 2.6.0 (2021-02-18)<a class="anchor" aria-label="anchor" href="#soildb-260-2021-02-18"></a></h2>
<ul><li>
<code>OSDquery</code> gets a new argument (<code>everything</code>) for searching the entire document</li>
<li>
<code>fetchNASIS(..., rmHzErrors=TRUE)</code> – spurious removals of data due to missing “extended” records. <code>fetchNASIS</code> now uses <code>aqp::horizons&lt;-</code> after building a minimal <code>SoilProfileCollection</code> from NASIS site and horizon tables. This allows <code>aqp</code> integrity methods to trigger where needed–preventing unintentional re-ordering or removals of “valid” horizon data.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.5.9" id="soildb-259-2021-01-26">soilDB 2.5.9 (2021-01-26)<small>2021-01-26</small><a class="anchor" aria-label="anchor" href="#soildb-259-2021-01-26"></a></h2>
<ul><li>
<code>HenryTimeLine</code> moved to {sharpshootR} package</li>
<li>new functions <code><a href="../reference/mukey.wcs.html">mukey.wcs()</a></code> and <code><a href="../reference/ISSR800.wcs.html">ISSR800.wcs()</a></code> for hitting web coverage service (WCS) for gSSURGO, gNATSGO, and ISSR-800 grids</li>
<li>new function <code><a href="../reference/ROSETTA.html">ROSETTA()</a></code> for accessing the new ROSETTA model API (c/o Todd Skaggs, USDA-ARS)</li>
<li>
<code>fetchOSD(..., extended=TRUE)</code> gains geographically associated soils, parsed from OSD (thanks AGB)</li>
<li>
<code>fetchSDA_spatial</code> now can return soil survey area polygons using <code>geom.src = "sapolygon"</code> with <code>x</code> as a vector of area symbols (<code>areasymbol</code>) or legend keys (<code>lkey</code>). For <code>sapolygon</code> results, the <code>method</code> and <code>add.field</code> arguments work the same as for <code>mupolygon</code>, only now both geometries can be returned with fields from the <code>legend</code> table.</li>
<li>
<code>fetchSDA_spatial</code> now can return STATSGO <code>gsmmupolygon</code> geometry with <code>db = "STATSGO"</code>; these data are linked to <code>mapunit</code> and (national) <code>legend</code> just like <code>mupolygon</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.5.8" id="soildb-258-2020-10-20">soilDB 2.5.8 (2020-10-20)<small>2020-10-21</small><a class="anchor" aria-label="anchor" href="#soildb-258-2020-10-20"></a></h2>
<ul><li>
<code>fetchNASIS</code> / <code>soilDB:::.rockFragmentSieve</code> now uses fragment RV, <code>soilDB:::.sieve</code> uses <code>&lt;</code> operator (<a href="https://github.com/ncss-tech/soilDB/issues/1" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/1</a>)</li>
<li>
<code>fetchKSSL(..., returnMorphologicData=TRUE)</code> now returns redoximorphic features by horizon</li>
<li>new function <code>taxaExtent</code> returns 800m gridded taxonomic grids for CONUS</li>
<li>
<code>seriesExtent</code> can now return 800m gridded series extents for CONUS</li>
<li>
<code>SDA_spatialQuery</code> can now retrieve SSURGO and STATSGO geometry c/o <a href="https://github.com/dschlaep" class="external-link">dschlaep</a> (<a href="https://github.com/ncss-tech/soilDB/issues/141" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/141</a>)</li>
<li>new import: <code>data.table</code>; beginning to implement <em>data.table</em>-aware methods in <em>aqp</em> and <em>soilDB</em>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.5.7" id="soildb-257-2020-09-03">soilDB 2.5.7 (2020-09-03)<a class="anchor" aria-label="anchor" href="#soildb-257-2020-09-03"></a></h2>
<ul><li>add <code>fetchGDB</code> for querying tabular data from SSURGO/gNATSGO/STATSGO File Geodatabases</li>
<li>add <code><a href="../reference/get_NOAA_GHCND.html">get_NOAA_GHCND()</a></code> and <code><a href="../reference/get_NOAA_stations_nearXY.html">get_NOAA_stations_nearXY()</a></code> for batch queries of NOAA Daily Climate Data (requires free API token)</li>
<li>bug fix for <code>fetchSDA_spatial</code> with <code>chunk.size</code> &gt; 1 resulting in duplicate data in result</li>
<li>major improvements to <code>fetchSDA_spatial</code> to handle queries that exceed JSON Serialization Limit</li>
<li>add <code>fetchSoilGrids</code> for point data queries to SoilGrids v2 API with SoilProfileCollection output</li>
<li>
<code>fetchKSSL(..., returnGeochemicalData=TRUE)</code> now returns geochemical, optical and XRD/thermal data</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.5.6" id="soildb-256-2020-06-16">soilDB 2.5.6 (2020-06-16)<a class="anchor" aria-label="anchor" href="#soildb-256-2020-06-16"></a></h2>
<ul><li>bug fixes in <code>fetchKSSL</code> related to vectorization, all arguments vectorized except for <code>bbox</code>
</li>
<li>
<code>KSSL_VG_model</code> output cleaned-up, now returns phi -&gt; theta function</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.5.3" id="soildb-253-2020-03-22">soilDB 2.5.3 (2020-03-22)<a class="anchor" aria-label="anchor" href="#soildb-253-2020-03-22"></a></h2>
<ul><li>
<code>fetchKSSL</code> is now fully vectorized and builds on new SoilWeb JSON API</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.5.2" id="soildb-252-2020-02-05">soilDB 2.5.2 (2020-02-05)<a class="anchor" aria-label="anchor" href="#soildb-252-2020-02-05"></a></h2>
<ul><li>add <code><a href="../reference/fetchNASIS.html">get_concentrations_from_NASIS_db()</a></code> and <code><a href="../reference/fetchNASIS.html">get_phfmp_from_NASIS_db()</a></code> for fetching Pedon Horizon Concentrations and Field Measured Properties from NASIS local database</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.5.1" id="soildb-251-2020-01-29">soilDB 2.5.1 (2020-01-29)<a class="anchor" aria-label="anchor" href="#soildb-251-2020-01-29"></a></h2>
<ul><li>bug fix for <code>fetchNASIS(from='components', fill=TRUE, rmHzErrors=TRUE)</code> in context of new <code>::hzDepthTests()</code> and non-unique <code>chiid</code> due to <code>NA</code> values introduced by <code>fill</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.5" id="soildb-25-2020-01-23">soilDB 2.5 (2020-01-23)<small>2020-01-28</small><a class="anchor" aria-label="anchor" href="#soildb-25-2020-01-23"></a></h2>
<ul><li>CRAN release</li>
<li>
<code>simplifyColorData</code> and <code>mix_and_clean_colors</code> always use CIELAB colorspace for weighted averages, and best-available metric for transformation to Munsell notation</li>
<li>
<code>fetchSDA_spatial</code> - new fetch function that simplifies getting spatial data associated with a vector of <code>mukey</code> or <code>nationalmusym</code>. The function has options for customizing result attribute table and is designed to automatically use <code><a href="../reference/makeChunks.html">makeChunks()</a></code> to prevent timeout on large queries.</li>
<li>
<code>aqp::test_hz_logic</code> is now deprecated – refactored affected fetch functions</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.4.3" id="soildb-243-2020-01-07">soilDB 2.4.3 (2020-01-07)<a class="anchor" aria-label="anchor" href="#soildb-243-2020-01-07"></a></h2>
<ul><li>surface water depth added to <code>fetchNASIS_pedons()</code>
</li>
<li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> has <a href="https://github.com/restrictions" class="external-link">@restrictions</a> set automatically if data are populated</li>
<li>new function for accessing pedon RMF in local NASIS DB: <code><a href="../reference/fetchNASIS.html">get_RMF_from_NASIS_db()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.4" id="soildb-24-2019-11-05">soilDB 2.4 (2019-11-05)<a class="anchor" aria-label="anchor" href="#soildb-24-2019-11-05"></a></h2>
<ul><li>CRAN release (<a href="https://github.com/ncss-tech/soilDB/releases/tag/2.4" class="external-link uri">https://github.com/ncss-tech/soilDB/releases/tag/2.4</a>)</li>
<li>documentation updates</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.3.9" id="soildb-239-2019-07-25">soilDB 2.3.9 (2019-07-25)<a class="anchor" aria-label="anchor" href="#soildb-239-2019-07-25"></a></h2>
<ul><li>SDA_query() no longer writes temporary files, c/o suggestion from Kyle Bocinsky (<a href="https://github.com/ncss-tech/soilDB/issues/106" class="external-link">#106</a> / <a href="https://github.com/ncss-tech/soilDB/issues/108" class="external-link">#108</a>)</li>
<li>fetchOSD() gets a sanity check to protect against going over GET request limits</li>
<li>makeChunks() added to util functions, useful for splitting data before sending API calls</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.3.8" id="soildb-238-2019-03-22">soilDB 2.3.8 (2019-03-22)<a class="anchor" aria-label="anchor" href="#soildb-238-2019-03-22"></a></h2>
<ul><li>loafercreek, gopheridge, and mineralking sample data have been updated with valid place-holder in <a href="https://github.com/sp" class="external-link">@sp</a></li>
<li>bug fix for <code><a href="../reference/SDA_query.html">SDA_query()</a></code> related to multi-line records (<a href="https://github.com/ncss-tech/soilDB/issues/28" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/28</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.3.7" id="soildb-237-2019-03-12">soilDB 2.3.7 (2019-03-12)<a class="anchor" aria-label="anchor" href="#soildb-237-2019-03-12"></a></h2>
<ul><li>
<code>sharpshootR</code> added to SUGGESTS</li>
<li>
<code><a href="../reference/fetchHenry.html">fetchHenry()</a></code> and fetchSCAN() now include water year/day (Oct 1 – Sep 30)</li>
<li>
<code>HenryTimeLine()</code> convenience function added</li>
<li>bug fix in <code>fetchOSD(..., extended=TRUE)</code> when no climate data available</li>
<li>bug fix in <code><a href="../reference/SDA_query.html">SDA_query()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.3.6" id="soildb-236-2019-02-12">soilDB 2.3.6 (2019-02-12)<a class="anchor" aria-label="anchor" href="#soildb-236-2019-02-12"></a></h2>
<ul><li>
<code><a href="../reference/simplifyFragmentData.html">simplifyFragmentData()</a></code> and related functions now 4-5x faster</li>
<li>
<code><a href="../reference/fetchOSD.html">fetchOSD()</a></code> now returns metadata when extended=TRUE</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.3.5" id="soildb-235-2019-01-14">soilDB 2.3.5 (2019-01-14)<small>2019-01-14</small><a class="anchor" aria-label="anchor" href="#soildb-235-2019-01-14"></a></h2>
<ul><li>NAMESPACE and R CMD check fixes</li>
<li>documentation updates</li>
<li>soilDB now suggests <code>stringr</code>
</li>
<li>new tests</li>
<li>release to CRAN</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.3.3" id="soildb-233-2018-12-18">soilDB 2.3.3 (2018-12-18)<a class="anchor" aria-label="anchor" href="#soildb-233-2018-12-18"></a></h2>
<ul><li>bug fix in <code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> related to conversion of NULL fragment volume to 0</li>
<li>
<code><a href="../reference/fetchKSSL.html">fetchKSSL()</a></code> can now automatically simplify colors with <code>simplifyColors = TRUE</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.3" id="soildb-23-2018-11-17">soilDB 2.3 (2018-11-17)<small>2018-11-19</small><a class="anchor" aria-label="anchor" href="#soildb-23-2018-11-17"></a></h2>
<ul><li>new function for exploring soil series co-occurrence data: <code><a href="../reference/siblings.html">siblings()</a></code>
</li>
<li>
<code>fetchOSD(..., extended=TRUE)</code> gets competing soil series</li>
<li>new tests</li>
<li>removed old sample gSSURGO chunk and related documentation</li>
<li>release to CRAN</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.2-6" id="soildb-22-6-2018-10-11">soilDB 2.2-6 (2018-10-11)<a class="anchor" aria-label="anchor" href="#soildb-22-6-2018-10-11"></a></h2>
<ul><li>new function for spatial queries: SDA_spatialQuery(), still needs testing and documentation</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.2-6" id="soildb-22-6-2018-10-11-1">soilDB 2.2-6 (2018-10-11)<a class="anchor" aria-label="anchor" href="#soildb-22-6-2018-10-11-1"></a></h2>
<ul><li>
<code><a href="../reference/fetchOSD.html">fetchOSD()</a></code> gets an overhaul, new API and features</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.2-5" id="soildb-22-5-2018-10-05">soilDB 2.2-5 (2018-10-05)<a class="anchor" aria-label="anchor" href="#soildb-22-5-2018-10-05"></a></h2>
<ul><li>experimental interface to SoillWeb OSD fulltext search: <code><a href="../reference/OSDquery.html">OSDquery()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.2-4" id="soildb-22-4-2018-09-04">soilDB 2.2-4 (2018-09-04)<a class="anchor" aria-label="anchor" href="#soildb-22-4-2018-09-04"></a></h2>
<ul><li>numerous bug-fixes in simplifyFragmentData() see (<a href="https://github.com/ncss-tech/soilDB/issues/70" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/70</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.2-1" id="soildb-22-1-2018-05-21">soilDB 2.2-1 (2018-05-21)<a class="anchor" aria-label="anchor" href="#soildb-22-1-2018-05-21"></a></h2>
<ul><li>get_mutext_from_NASIS_db() added for extraction of map unit text notes</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.2" id="soildb-22-2018-05-08">soilDB 2.2 (2018-05-08)<a class="anchor" aria-label="anchor" href="#soildb-22-2018-05-08"></a></h2>
<ul><li>CRAN release</li>
<li>better bug-fix for fetchSCAN and missing data (<a href="https://github.com/ncss-tech/soilDB/issues/26" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/26</a>)</li>
<li>exposing some of the internal functionality used by fetchHenry</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.1-1" id="soildb-21-1-2018-03-29">soilDB 2.1-1 (2018-03-29)<a class="anchor" aria-label="anchor" href="#soildb-21-1-2018-03-29"></a></h2>
<ul><li>added more SCAN/SNOTEL metadata (<a href="https://github.com/ncss-tech/soilDB/issues/61" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/61</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.1" id="soildb-21-2018-03-12">soilDB 2.1 (2018-03-12)<a class="anchor" aria-label="anchor" href="#soildb-21-2018-03-12"></a></h2>
<ul><li>generalized local NASIS ODBC authentication, should work on windows 7, 8, 10 <a href="https://github.com/ncss-tech/soilDB/issues/54" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/54</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.0-4" id="soildb-20-4-2018-03-06">soilDB 2.0-4 (2018-03-06)<a class="anchor" aria-label="anchor" href="#soildb-20-4-2018-03-06"></a></h2>
<ul><li>bug fix for subtle change in how SCAN data are returned from webservice</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.0-3" id="soildb-20-3-2018-02-13">soilDB 2.0-3 (2018-02-13)<a class="anchor" aria-label="anchor" href="#soildb-20-3-2018-02-13"></a></h2>
<ul><li>bug fix for simplifyFragmentData(, nullFragsAreZero=FALSE), still more work to do</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.0-2" id="soildb-20-2-2018-01-29">soilDB 2.0-2 (2018-01-29)<a class="anchor" aria-label="anchor" href="#soildb-20-2-2018-01-29"></a></h2>
<ul><li>bug fix for simplifyFragmentData() when fragment volume &gt; 100%</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.0-1" id="soildb-20-1-2018-01-23">soilDB 2.0-1 (2018-01-23)<small>2018-01-23</small><a class="anchor" aria-label="anchor" href="#soildb-20-1-2018-01-23"></a></h2>
<ul><li>updated <code>loafercreek</code> and <code>gopheridge</code> sample datasets and manual page to reflect latest fetchNASIS</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.0" id="soildb-20-2017-12-23">soilDB 2.0 (2017-12-23)<small>2018-01-11</small><a class="anchor" aria-label="anchor" href="#soildb-20-2017-12-23"></a></h2>
<ul><li>bug fixes, manual page updates, and stabilization of NASIS interaction</li>
<li>released to CRAN</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8.12" id="soildb-1812-2017-09-19">soilDB 1.8.12 (2017-09-19)<a class="anchor" aria-label="anchor" href="#soildb-1812-2017-09-19"></a></h2>
<ul><li>bug fix in fetchHenry(), it is now possible to query only sensor metadata</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8.11" id="soildb-1811-2017-08-17">soilDB 1.8.11 (2017-08-17)<a class="anchor" aria-label="anchor" href="#soildb-1811-2017-08-17"></a></h2>
<ul><li>temporary bug-fix related to SCAN data (<a href="https://github.com/ncss-tech/soilDB/issues/26" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/26</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8.10" id="soildb-1810-2017-08-10">soilDB 1.8.10 (2017-08-10)<a class="anchor" aria-label="anchor" href="#soildb-1810-2017-08-10"></a></h2>
<ul><li>re-write of mix_and_clean_colors() so that color mixing happens in CIE LAB space</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8.5" id="soildb-185-2017-05-24">soilDB 1.8.5 (2017-05-24)<a class="anchor" aria-label="anchor" href="#soildb-185-2017-05-24"></a></h2>
<ul><li>re-write of SDA_query(), better error handling, support for multi-part result sets</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8.2" id="soildb-182-2017-03-24">soilDB 1.8.2 (2017-03-24)<a class="anchor" aria-label="anchor" href="#soildb-182-2017-03-24"></a></h2>
<ul><li>fetchHenry() can now access water level data, see manual page</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8.1" id="soildb-181-2017-01-23">soilDB 1.8.1 (2017-01-23)<a class="anchor" aria-label="anchor" href="#soildb-181-2017-01-23"></a></h2>
<ul><li>new function: get_comonth_from_NASIS_db() see manual page for details</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8-10" id="soildb-18-10-2016-12-27">soilDB 1.8-10 (2016-12-27)<a class="anchor" aria-label="anchor" href="#soildb-18-10-2016-12-27"></a></h2>
<ul><li>converting all URLs to ‘HTTPS’, addressing bugs with fetchSCAN() and associated functions</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8-7" id="soildb-18-7-2016-11-16">soilDB 1.8-7 (2016-11-16)<small>2016-11-10</small><a class="anchor" aria-label="anchor" href="#soildb-18-7-2016-11-16"></a></h2>
<ul><li>sanity checks for fetchHenry()</li>
<li>SCAN_sensor_metadata() vectorized and documented</li>
<li>unique row names in SPDF returned by seriesExtent()</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8-6" id="soildb-18-6-2016-11-04">soilDB 1.8-6 (2016-11-04)<a class="anchor" aria-label="anchor" href="#soildb-18-6-2016-11-04"></a></h2>
<ul><li>converted all links to SoilWeb servers to HTTPS</li>
<li>converted all NRCS web-service links to HTTPS</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8-4" id="soildb-18-4-2016-10-07">soilDB 1.8-4 (2016-10-07)<a class="anchor" aria-label="anchor" href="#soildb-18-4-2016-10-07"></a></h2>
<ul><li>fetchOSD() now returns dry colors and the source “narrative” for each horizon; function gains an argument</li>
<li>fetchOSD() now returns texture class, coarse fragment modifier, pH, and pH class</li>
<li>fetchSCAN() re-written, see manual pages and <a href="http://ncss-tech.github.io/AQP/soilDB/fetchSCAN-demo.html" class="external-link uri">http://ncss-tech.github.io/AQP/soilDB/fetchSCAN-demo.html</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8" id="soildb-18-2016-04-29">soilDB 1.8 (2016-04-29)<small>2016-04-29</small><a class="anchor" aria-label="anchor" href="#soildb-18-2016-04-29"></a></h2>
<ul><li>fetchKSSL() can now query basic morphologic data with the argument “returnMorphologicData”</li>
<li>two new functions for simplifying NASIS color and fragment data:
<ul><li>simplifyFragmentData()</li>
<li>simplifyColorData()</li>
</ul></li>
<li>^^^ these new functions are now used by fetchNASIS() to summarize color and fragment data (vs. SQL)</li>
<li>NOTE: soilDB now uses reshape2::dcast() instead of reshape::cast()</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.7" id="soildb-17-2016-04-18">soilDB 1.7 (2016-04-18)<small>2016-02-16</small><a class="anchor" aria-label="anchor" href="#soildb-17-2016-04-18"></a></h2>
<ul><li>bug fix in colors returned by fetchNASIS(), reported by Andy Paolucci</li>
<li>bug fix in SDA_query(), due to changes in httr::content. Thanks Kyle Bocinsky for the fix!</li>
<li>SDA_query() now returns SQL errors generated by SDA</li>
<li>new columns from NASIS site table returned by fetchNASIS()</li>
<li>NASIS pedon ecosite data now returned by fetchNASIS() (c/o J. Skovlin)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6.9" id="soildb-169-2015-12-28">soilDB 1.6.9 (2015-12-28)<a class="anchor" aria-label="anchor" href="#soildb-169-2015-12-28"></a></h2>
<ul><li>clean-up in local NASIS queries, removed extra parentheses</li>
<li>NASIS component query function overhaul: previous code may be broken, details pending</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6.8" id="soildb-168-2015-12-22">soilDB 1.6.8 (2015-12-22)<a class="anchor" aria-label="anchor" href="#soildb-168-2015-12-22"></a></h2>
<ul><li>added temperature class (temp_class) field from the pedon taxonomic history table (NASIS) [addition suggested by J. Baker]</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6.7" id="soildb-167-2015-12-16">soilDB 1.6.7 (2015-12-16)<a class="anchor" aria-label="anchor" href="#soildb-167-2015-12-16"></a></h2>
<ul><li>experimental function for processing SDA queries that return geometry: processSDA_WKT()</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6.5" id="soildb-165-2015-12-03">soilDB 1.6.5 (2015-12-03)<a class="anchor" aria-label="anchor" href="#soildb-165-2015-12-03"></a></h2>
<ul><li>bug fix for poorly specified geomorphic descriptions, caused fetchNASIS() to barf</li>
<li>fetchKSSL() gains new query filters, see man page</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6.4" id="soildb-164-2015-11-27">soilDB 1.6.4 (2015-11-27)<a class="anchor" aria-label="anchor" href="#soildb-164-2015-11-27"></a></h2>
<ul><li>package re-org, getting ready for soilDB 2.0:
<ul><li>dropping use of <code>RCurl</code> functions in favor of <code>httr</code> alternatives (done)</li>
<li>switch from <code>reshape</code> to <code>reshape2</code> (pending)</li>
<li>possibly move some packages from SUGGESTS to IMPORTS</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6.3" id="soildb-163-2015-11-20">soilDB 1.6.3 (2015-11-20)<a class="anchor" aria-label="anchor" href="#soildb-163-2015-11-20"></a></h2>
<ul><li>new spatial query helper functions for SDA</li>
<li>re-named SSURGO_spatial_query() to SoilWeb_spatial_query(), this function may be phased-out due to spatial support now available in SDA</li>
<li>removed MUKEYS_by_ll_bbox() function, no longer needed and web-service may be disabled at any time</li>
<li>mapunit_geom_by_ll_bbox() will probably be removed in the near future with an SDA-based alternative</li>
<li>KSSL data updated (server-side) to June 2015 snapshot, “site_id” column removed from fetchKSSL() results</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6" id="soildb-16-2015-08-19">soilDB 1.6 (2015-08-19)<a class="anchor" aria-label="anchor" href="#soildb-16-2015-08-19"></a></h2>
<ul><li>soilDB now imports from the <code>reshape</code> package, will transition to <code>reshape2</code> with soilDB 2.0</li>
<li>fetchHenry() officially added, complete with documentation</li>
<li>SDA_query() undergoing some upgrades, no longer requires SSOAP / XMLSchema packages</li>
<li>SSOAP / XMLSchema packages no longer in ‘suggests’ list</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.5-8" id="soildb-15-8-2015-08-13">soilDB 1.5-8 (2015-08-13)<a class="anchor" aria-label="anchor" href="#soildb-15-8-2015-08-13"></a></h2>
<ul><li>fetchKSSL() gets an argument for downloading data by MLRA</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.5-7" id="soildb-15-7-2015-03-10">soilDB 1.5-7 (2015-03-10)<a class="anchor" aria-label="anchor" href="#soildb-15-7-2015-03-10"></a></h2>
<ul><li>updated the <code>loafercreek</code> and <code>gopheridge</code> sample datasets</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.5-3" id="soildb-15-3-2015-03-10">soilDB 1.5-3 (2015-03-10)<a class="anchor" aria-label="anchor" href="#soildb-15-3-2015-03-10"></a></h2>
<ul><li>nullFragsAreZero argument to fetchNASIS() reset to TRUE, new documentation pending</li>
<li>consolidate of messages printed when running fetchNASIS()</li>
<li>introduction of new option “soilDB.verbose” (default is FALSE) for increasing the level of QC information printed</li>
<li>new tutorial on fetchNASIS()</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.5-2" id="soildb-15-2-2015-02-24">soilDB 1.5-2 (2015-02-24)<small>2015-02-25</small><a class="anchor" aria-label="anchor" href="#soildb-15-2-2015-02-24"></a></h2>
<ul><li>RODBC temporarily moved from “suggested” package to “imported” package… not a good idea, reverted to “suggested”</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.4-5" id="soildb-14-5-2015-01-20">soilDB 1.4-5 (2015-01-20)<a class="anchor" aria-label="anchor" href="#soildb-14-5-2015-01-20"></a></h2>
<ul><li>mix_and_clean_colors() now returns back-transformed, mixed, munsell colors</li>
<li>added psctopdepth and pscbotdepth back to extended NASIS query (particle size control section depths)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.4-3" id="soildb-14-3-2015-01-12">soilDB 1.4-3 (2015-01-12)<a class="anchor" aria-label="anchor" href="#soildb-14-3-2015-01-12"></a></h2>
<ul><li>get_hz_data_from_NASIS_db() no longer assumes fragment volume of NULL = 0</li>
<li>get_extended_data_from_NASIS_db() no longer assumes fragment volume of NULL = 0</li>
<li>fetchNASIS() has a new argument, nullFragsAreZero=FALSE; set to TRUE for past NULL -&gt; 0 conversion</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.4-2" id="soildb-14-2-2014-12-23">soilDB 1.4-2 (2014-12-23)<a class="anchor" aria-label="anchor" href="#soildb-14-2-2014-12-23"></a></h2>
<ul><li>new internally-used function .formatLandformString() for flattening NASIS/PedonPC “landform” records</li>
<li>new internally-used function .formatParentMaterialString() for flattening NASIS/PedonPC “parent material” records</li>
<li>fetchNASIS() incorporates the results of these two new functions</li>
<li>new function SSURGO_spatial_query() queries SSURGO data from SoilWeb (see manual page for details)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.4" id="soildb-14-2014-11-13">soilDB 1.4 (2014-11-13)<a class="anchor" aria-label="anchor" href="#soildb-14-2014-11-13"></a></h2>
<ul><li>moving most of the hard-to-install packages into <code>suggests</code>, and checking for package availability at function runtime. this will make soilDB more portable, as not every user will want or need all functionality.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3-6" id="soildb-13-6-2014-10-27">soilDB 1.3-6 (2014-10-27)<a class="anchor" aria-label="anchor" href="#soildb-13-6-2014-10-27"></a></h2>
<ul><li>fetchNASIS() gains argument rmHzErrors to optionally retain pedons with horizonation errors. use with caution.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3-5" id="soildb-13-5-2014-09-25">soilDB 1.3-5 (2014-09-25)<a class="anchor" aria-label="anchor" href="#soildb-13-5-2014-09-25"></a></h2>
<ul><li>loafercreek sample dataset re-created from new data</li>
<li>seriesExtent() now utilizes pre-cached GeoJSON files from [<a href="http://casoilresource.lawr.ucdavis.edu/see/" class="external-link uri">http://casoilresource.lawr.ucdavis.edu/see/</a>]</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3" id="soildb-13-2014-02-26">soilDB 1.3 (2014-02-26)<a class="anchor" aria-label="anchor" href="#soildb-13-2014-02-26"></a></h2>
<ul><li>Changes made to fetch functions to accommodate changes implemented in the NASIS 6.3 data structure</li>
<li>get_site_data_from_NASIS_db(): in cases where multiple records in site-bedrock exist, retain only the most shallow</li>
<li>fetchRaCA() has a new argument for querying data by rcasiteid</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2-9" id="soildb-12-9-2014-01-06">soilDB 1.2-9 (2014-01-06)<a class="anchor" aria-label="anchor" href="#soildb-12-9-2014-01-06"></a></h2>
<ul><li>SOC concentration and stock values are temporarily disabled in fetchRaCA()
<ul><li>waiting for new estimates from the Soil Survey Center…</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2-6" id="soildb-12-6-2013-12-05">soilDB 1.2-6 (2013-12-05)<small>2013-12-17</small><a class="anchor" aria-label="anchor" href="#soildb-12-6-2013-12-05"></a></h2>
<ul><li>added new function contributed by J.M. Skovlin: get_veg_from_NPS_PLOTS_db()</li>
<li>bug fixes in get_extended_data_from_NASIS_db(): results from geomorph tables are now returned</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2-3" id="soildb-12-3-2013-10-25">soilDB 1.2-3 (2013-10-25)<a class="anchor" aria-label="anchor" href="#soildb-12-3-2013-10-25"></a></h2>
<ul><li>added new function fetchSCAN() for downloading soil/climate data from USDA-NRCS SCAN stations (still experimental!)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2-1" id="soildb-12-1-2013-09-12">soilDB 1.2-1 (2013-09-12)<a class="anchor" aria-label="anchor" href="#soildb-12-1-2013-09-12"></a></h2>
<ul><li>bug fixing in fetchRaCA():
<ul><li>“#” characters no longer cause errors</li>
<li>duplicate IDs in source data have been fixed</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2" id="soildb-12-2013-08-13">soilDB 1.2 (2013-08-13)<a class="anchor" aria-label="anchor" href="#soildb-12-2013-08-13"></a></h2>
<ul><li>fetchRaCA() function now stable, ready for general usage</li>
<li>fixed bug in fetchRaCA() function where the presence of single-quote character in horizon designation would throw and error</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1-3" id="soildb-11-3-2013-07-30">soilDB 1.1-3 (2013-07-30)<a class="anchor" aria-label="anchor" href="#soildb-11-3-2013-07-30"></a></h2>
<ul><li>new function get_copedon_from_NASIS_db(): returns basic information associated with pedons linked to component data in NASIS</li>
<li>new function fetchRaCA(): gets data from the Rapid Carbon Assessment project [work in progress]</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1" id="soildb-11-2013-06-27">soilDB 1.1 (2013-06-27)<a class="anchor" aria-label="anchor" href="#soildb-11-2013-06-27"></a></h2>
<ul><li>get_site_data_from_NASIS_db() no longer has problems when more than 1 site bedrock kind is defined; only the shallowest row is returned</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0" id="soildb-10-2013-04-04">soilDB 1.0 (2013-04-04)<small>2013-04-18</small><a class="anchor" aria-label="anchor" href="#soildb-10-2013-04-04"></a></h2>
<ul><li>fetchNASIS() is now much more efficient: faster / less memory used</li>
<li>new function! fetchKSSL(): experimental interface to (most of) the KSSL data
<ul><li>queries can be performed by series name or GCS bounding box</li>
<li>data are delivered via CA Soil Resource Lab server</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-8" id="soildb-09-8-2013-04-03">soilDB 0.9-8 (2013-04-03)<a class="anchor" aria-label="anchor" href="#soildb-09-8-2013-04-03"></a></h2>
<ul><li>fetchOSD() now immune to queries for non-soils</li>
<li>improved efficiency in fetch* functions</li>
<li>NASIS-DMU fetching functions now return more information, still not as complete as pedon-queries</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-7" id="soildb-09-7-2013-03-01">soilDB 0.9-7 (2013-03-01)<a class="anchor" aria-label="anchor" href="#soildb-09-7-2013-03-01"></a></h2>
<ul><li>NASIS query functions now return only records from the selected set, please test older code!</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-6" id="soildb-09-6-2013-02-26">soilDB 0.9-6 (2013-02-26)<small>2013-02-28</small><a class="anchor" aria-label="anchor" href="#soildb-09-6-2013-02-26"></a></h2>
<ul><li>new function get_text_notes_from_NASIS_db() – still needs proper documentation</li>
<li>bug fixes to PedonPC and NASIS queries, new data elements returned by extended query functions</li>
<li>SoilWeb queries via URL are now URL-encoded to allow for spaces in soil series names</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-4" id="soildb-09-4-2013-01-31">soilDB 0.9-4 (2013-01-31)<a class="anchor" aria-label="anchor" href="#soildb-09-4-2013-01-31"></a></h2>
<ul><li>new function: fetchOSD() returns basic OSD data as a SoilProfileCollection</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-3" id="soildb-09-3-2013-01-08">soilDB 0.9-3 (2013-01-08)<small>2013-01-10</small><a class="anchor" aria-label="anchor" href="#soildb-09-3-2013-01-08"></a></h2>
<ul><li>speed-bump in color-fetching functions from NASIS/pedonPC</li>
<li>fetchNASIS() now attempts to correct for &gt;1 pedon/site by appending peiid to pedon_id</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-2" id="soildb-09-2-2012-12-18">soilDB 0.9-2 (2012-12-18)<a class="anchor" aria-label="anchor" href="#soildb-09-2-2012-12-18"></a></h2>
<ul><li>new functions for getting / plotting the geographic extent of a soil series, using the SoilWeb query service: +seriesExtent() : fetches extent as a SpatialPolygonDataFrame +seriesExtentAsGmap() : fetches extent and plots on Google Maps (requires dismo package)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9-1" id="soildb-09-1-2012-11-27">soilDB 0.9-1 (2012-11-27)<a class="anchor" aria-label="anchor" href="#soildb-09-1-2012-11-27"></a></h2>
<ul><li>updated functionality in fetchNASIS_component_data() pulls mapunit-level data as well as component-level data</li>
<li>Munsell ‘value’ is now returned from PedonPC/NASIS fetching functions</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9" id="soildb-09-2012-10-24">soilDB 0.9 (2012-10-24)<a class="anchor" aria-label="anchor" href="#soildb-09-2012-10-24"></a></h2>
<ul><li>added a surface fragment summary “surf_frag_summary” to the results of get_extended_data_from_NASIS()
<ul><li>note: this has not been ported to the related PedonPC queries</li>
</ul></li>
<li>integrated surf_frag_summary data into data returned from fetchNASIS(), stored in <a href="https://github.com/site" class="external-link">@site</a>
<ul><li>note: this has not been ported to the related PedonPC queries</li>
</ul></li>
<li>minor bug-fix in horizon-level rock fragment summary SQL which previously mis-classified BD as ST in some, rare cases
<ul><li>note: this has not been ported to the related PedonPC queries</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8-3" id="soildb-08-3-2012-09-28">soilDB 0.8-3 (2012-09-28)<small>2012-10-10</small><a class="anchor" aria-label="anchor" href="#soildb-08-3-2012-09-28"></a></h2>
<ul><li>site-level data: {elev, slope, aspect} are now named {elev_field, slope_field, aspect_field}
<ul><li>this affects the data returned by fetchNASIS() and fetchPedonPC()</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8-2" id="soildb-08-2-2012-08-23">soilDB 0.8-2 (2012-08-23)<a class="anchor" aria-label="anchor" href="#soildb-08-2-2012-08-23"></a></h2>
<ul><li>compatible with NASIS 6.2</li>
<li>bug fixes</li>
<li>taxhistory selection method is preserved in the results</li>
<li>‘taxonname’ is used instead of ‘sampled_as’ / ’correlated_as, <strong>seems to work, but needs further testing</strong>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8" id="soildb-08-2012-08-20">soilDB 0.8 (2012-08-20)<a class="anchor" aria-label="anchor" href="#soildb-08-2012-08-20"></a></h2>
<ul><li>updating for PedonPC 5.0 and NASIS 6.2
<ul><li>site data contains the best-guessed corresponding row from the taxhistory table, based on:
<ol style="list-style-type: decimal"><li>most recent record, or 2) record with the least amount of missing data</li>
</ol></li>
<li>taxhistory data are now included in the output from get_extended_data_from_pedon_db()</li>
</ul></li>
<li>package is now partially compatible with NASIS 6.2</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6" id="soildb-06-2012-06-19">soilDB 0.6 (2012-06-19)<a class="anchor" aria-label="anchor" href="#soildb-06-2012-06-19"></a></h2>
<ul><li>tidying up documentation, package dependencies, and NAMESPACE</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5-6" id="soildb-05-6-2012-04-16">soilDB 0.5-6 (2012-04-16)<a class="anchor" aria-label="anchor" href="#soildb-05-6-2012-04-16"></a></h2>
<ul><li>adding preliminary functions for querying component data from local NASIS</li>
<li>fixed minor bug in SDA_query() and added some links to related documentation</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5-1" id="soildb-05-1-2012-02-22">soilDB 0.5-1 (2012-02-22)<a class="anchor" aria-label="anchor" href="#soildb-05-1-2012-02-22"></a></h2>
<ul><li>fetchNASIS() and fetchPedonPC() now integrate `extended’ data</li>
<li>warning and error messages cleaned-up</li>
<li>multiple textures no longer cause duplicate HZ rows (NASIS only)</li>
<li>extended queries now split frags/para-frags</li>
<li>silt fraction is estimated from 100-(sand+clay) when possible</li>
<li>added local NASIS ODBC connection vignette (thanks JMS)</li>
<li>removed dsn argument from NASIS functions as it should always be ‘nasis_local’</li>
<li>new wide-formatted, boolean representation of diagnostic horizon data</li>
<li>queries standardized between NASIS/PedonPC</li>
<li>new fetchNASIS() function for 1-line access to local NASIS data</li>
<li>new sample data set ‘loafercreek’</li>
<li>basic vignette added, switching to knitr-style vignettes</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3-3" id="soildb-03-3-2012-01-10">soilDB 0.3-3 (2012-01-10)<small>2012-01-16</small><a class="anchor" aria-label="anchor" href="#soildb-03-3-2012-01-10"></a></h2>
<ul><li>SDA_query() now functional on MacOS/UNIX-like OSes with (SSOAP 0.8-1, XMLSchema 0.6-0, and XML 3.7-1), thanks to D.T. Lang for the updates!</li>
<li>moving hard to find packages to ‘suggested’ status: SSOAP, RCurl, XML, rgdal</li>
<li>new wrapper function fetchPedonPC() for typical site/pedon/hz queries</li>
<li>new function getHzErrorsPedonPC() for ID-ing pedons with problem horizonation</li>
<li>NOTE: hz data queries will return 2 rows/hz (error) when multiple texture classes are assigned to a single horizon- this is a bug, not a feature!</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3-2" id="soildb-03-2-2011-12-30">soilDB 0.3-2 (2011-12-30)<small>2012-01-03</small><a class="anchor" aria-label="anchor" href="#soildb-03-2-2011-12-30"></a></h2>
<ul><li>NASIS/pedonPC queries synced</li>
<li>minor bug fixes and documentation updates</li>
<li>updated query structure, switching over to native NASIS/PedonPC IDs</li>
<li>extended summaries added: NASIS only</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2" id="soildb-02-2011-12-27">soilDB 0.2 (2011-12-27)<a class="anchor" aria-label="anchor" href="#soildb-02-2011-12-27"></a></h2>
<ul><li>moved functions out of aqp package</li>
<li>basic query functionality from local NASIS DB (Jay)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1" id="soildb-01-2011-12-23">soilDB 0.1 (2011-12-23)<a class="anchor" aria-label="anchor" href="#soildb-01-2011-12-23"></a></h2>
<ul><li>initial version on r-forge</li>
<li>functions still exist in aqp package… need to move over completely</li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dylan Beaudette, Jay Skovlin, Stephen Roecker, Andrew Brown.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

