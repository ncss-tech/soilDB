<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • soilDB</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">soilDB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.8.13</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/dominant-es.html">Mapping Dominant Ecological Sites using SSURGO Data</a></li>
    <li><a class="dropdown-item" href="../articles/fetchNASIS.html">fetchNASIS(from='pedons') Columns</a></li>
    <li><a class="dropdown-item" href="../articles/local-ssurgo.html">Local Soil Survey Geographic (SSURGO) Databases</a></li>
    <li><a class="dropdown-item" href="../articles/wcs-ssurgo.html">Map Unit Key Grids and Thematic Maps of Soil Survey Geographic (SSURGO) Data</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ncss-tech/soilDB/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/ncss-tech/soilDB/blob/2.8.13/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.13" id="soildb-2813-2025-09-26">soilDB 2.8.13 (2025-09-26)<a class="anchor" aria-label="anchor" href="#soildb-2813-2025-09-26"></a></h2><p class="text-muted">CRAN release: 2025-09-27</p>
<ul><li>Added <code><a href="../reference/get_SDA_NASIS_key.html">get_SDA_NASIS_key()</a></code> for obtaining NASIS record IDs for component and component horizon data from Soil Data Access (<a href="https://github.com/ncss-tech/soilDB/issues/409" class="external-link">#409</a>)</li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code> fixed a bug with new <code>addFields</code> argument and <code>geomIntersection=TRUE</code> (<a href="https://github.com/ncss-tech/soilDB/issues/414" class="external-link">#414</a>)</li>
<li>
<code><a href="../reference/get_OSD.html">get_OSD()</a></code> replace old base URL for <code>result='html'</code>
</li>
<li>
<code><a href="../reference/SDA_query.html">SDA_query()</a></code> include soilDB package version in User-Agent string</li>
<li>Vignette updates</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.12" id="soildb-2812-2025-08-29">soilDB 2.8.12 (2025-08-29)<a class="anchor" aria-label="anchor" href="#soildb-2812-2025-08-29"></a></h2><p class="text-muted">CRAN release: 2025-08-29</p>
<ul><li>
<strong>New Vignettes</strong>:
<ul><li>Added vignette for thematic maps of dominant ecological site using Soil Data Access via <code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code> and <code><a href="../reference/get_SDA_coecoclass.html">get_SDA_coecoclass()</a></code>
</li>
<li>Added vignette for creating and using local SSURGO databases via <code><a href="../reference/downloadSSURGO.html">downloadSSURGO()</a></code> and <code><a href="../reference/createSSURGO.html">createSSURGO()</a></code>
</li>
</ul></li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code> now supports <code>addFields</code> argument to add columns to the result from other non-spatial tables.
<ul><li>You can now specify columns from:
<ul><li>
<code>"legend"</code>, <code>"mapunit"</code>, and <code>"muaggatt"</code> tables for <code>what</code> equal to <code>"mupolygon"</code>, <code>"mupoint"</code>, <code>"muline"</code> or <code>"mukey"</code><br></li>
<li>
<code>"legend"</code> table for <code>what</code> equal to <code>"areasymbol"</code> or <code>"sapolygon"</code>
</li>
<li>
<code>"featdesc"</code> for <code>what</code> equal to <code>"featpoint"</code> or <code>"featline"</code>
</li>
</ul></li>
</ul></li>
<li>
<code><a href="../reference/createSSURGO.html">createSSURGO()</a></code>:
<ul><li>Added <code>append</code> argument to fix <code>overwrite</code> behavior</li>
<li>Fixed bug in creating non-GeoPackage, non-spatial SQLite output</li>
<li>Improved handling of empty export files and <code>overwrite</code> logic for non-file-based RDBMS</li>
</ul></li>
<li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code>: fixed bug when <code>fill=TRUE</code> and there are no horizons in the source data for any profile</li>
<li>
<code><a href="../reference/fetchSDA.html">get_component_from_SDA()</a></code> fixed bug in join of <code>"chorizon"</code> and <code>"chfrags"</code> tables, now uses <code>merge(incomparables=NA)</code>
</li>
<li>
<code><a href="../reference/fetchVegdata.html">get_vegplot_tree_si_summary_from_NASIS_db()</a></code> updated for new <code>siteindexcurve</code> table in data model version 7.4.3</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.11" id="soildb-2811-2025-07-11">soilDB 2.8.11 (2025-07-11)<a class="anchor" aria-label="anchor" href="#soildb-2811-2025-07-11"></a></h2><p class="text-muted">CRAN release: 2025-07-11</p>
<ul><li>Update to NASIS metadata for data model version 7.4.3</li>
<li>
<code><a href="../reference/fetchSDA_spatial.html">fetchSDA_spatial()</a></code> <code>geom.src="mlrapolygon"</code> uses a new URL on the DSHub S3 bucket</li>
<li>Added <code>"projectsubtype"</code> and <code>"milestonetype"</code> to the <code>"project"</code> set for <code><a href="../reference/get_NASIS_table_name_by_purpose.html">get_NASIS_table_name_by_purpose()</a></code>
</li>
<li>Initial phase of syntax cleanup affecting many functions</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.10" id="soildb-2810-2025-04-28">soilDB 2.8.10 (2025-04-28)<a class="anchor" aria-label="anchor" href="#soildb-2810-2025-04-28"></a></h2>
<ul><li>
<code><a href="../reference/fetchVegdata.html">fetchVegdata()</a></code> add <code>nullFragsAreZero</code> argument (passed to <code><a href="../reference/get_site_data_from_NASIS_db.html">get_site_data_from_NASIS_db()</a></code>)</li>
<li>Added <code><a href="../reference/soilDB_user_dir.html">soilDB_user_dir()</a></code> for caching local copies of data for use in soilDB functions (<a href="https://github.com/ncss-tech/soilDB/issues/377" class="external-link">#377</a>)</li>
<li>Added <code><a href="../reference/fetchHWSD.html">fetchHWSD()</a></code> and <code><a href="../reference/fetchHWSD.html">get_HWSD_path()</a></code> for the FAO Harmonized World Soil Database (<a href="https://github.com/ncss-tech/soilDB/issues/391" class="external-link">#391</a>)</li>
<li>Added <code><a href="../reference/get_phroots_from_NASIS_db.html">get_phroots_from_NASIS_db()</a></code> for getting pedon horizon root information from NASIS (<a href="https://github.com/ncss-tech/soilDB/issues/393" class="external-link">#393</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.9" id="soildb-289-2025-04-04">soilDB 2.8.9 (2025-04-04)<a class="anchor" aria-label="anchor" href="#soildb-289-2025-04-04"></a></h2><p class="text-muted">CRAN release: 2025-04-05</p>
<ul><li>soilDB now requires aqp &gt;= 2.1.0</li>
<li>Added <code><a href="../reference/fetchVegdata.html">get_vegplot_groundsurface_from_NASIS_db()</a></code> thanks to Greg Schmidt (<a href="https://github.com/phytoclast" class="external-link">@phytoclast</a>; <a href="https://github.com/ncss-tech/soilDB/issues/373" class="external-link">#373</a>)</li>
<li>Added <code>"transectgroundsurfcover"</code> table to <code>"vegetation"</code> set for <code><a href="../reference/get_NASIS_table_name_by_purpose.html">get_NASIS_table_name_by_purpose()</a></code>
</li>
<li>Added missing <code>fetchNASIS("components")</code> deprecation messages for maat_l, maat_r, maat_h, mast_r, ecosite_id, ecosite_name, othervegid, and othervegclass columns</li>
<li>
<code>fetchSDA_spatial(geom.src="mlrapolygon")</code>: uses an AWS (S3) source and Seek-optimized ZIP file (thanks to <a href="https://github.com/jneme910" class="external-link">@jneme910</a>)</li>
<li>
<code><a href="../reference/get_SDA_property.html">get_SDA_property()</a></code> (<code>method</code> <code>"weighted average"</code> and <code>"min/max"</code>), <code><a href="../reference/get_SDA_hydric.html">get_SDA_hydric()</a></code>, and <code><a href="../reference/get_SDA_interpretation.html">get_SDA_interpretation()</a></code> (<code>method</code> <code>"weighted average"</code>) now use Common Table Expressions (CTEs) and therefore are compatible with local (SQLite or other) data sources</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.8" id="soildb-288-2025-02-10">soilDB 2.8.8 (2025-02-10)<a class="anchor" aria-label="anchor" href="#soildb-288-2025-02-10"></a></h2><p class="text-muted">CRAN release: 2025-02-10</p>
<ul><li>
<code><a href="../reference/fetchSCAN.html">fetchSCAN()</a></code>: Bug fix when sensor column contains all <code>NA</code>
</li>
<li>
<code><a href="../reference/ROSETTA.html">ROSETTA()</a></code>: now uses HTTPS URL for API endpoint</li>
<li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code>: Bug fix for (now deprecated) <code>pedon_id</code> in horizon slot rather than site</li>
<li>Rebuilt SPC datasets: <code>loafercreek</code>, <code>gopheridge</code>, <code>mineralKing</code>
</li>
<li>
<code><a href="../reference/fetchNASISLabData.html">fetchNASISLabData()</a></code>: use <code>ncsspedonlabdataiid</code> as unique pedon ID</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.7" id="soildb-287-2025-01-16">soilDB 2.8.7 (2025-01-16)<a class="anchor" aria-label="anchor" href="#soildb-287-2025-01-16"></a></h2><p class="text-muted">CRAN release: 2025-01-16</p>
<ul><li>Several aliases of NASIS physical column names have been deprecated and will be removed in the next minor release (2.9.x). See <a href="https://ncss-tech.github.io/AQP/soilDB/bulletins/2025.01-1-soilDB-NASIS-column-aliases.html" class="external-link uri">https://ncss-tech.github.io/AQP/soilDB/bulletins/2025.01-1-soilDB-NASIS-column-aliases.html</a> for details (<a href="https://github.com/ncss-tech/soilDB/issues/369" class="external-link">#369</a>)</li>
<li>
<code><a href="../reference/fetchVegdata.html">fetchVegdata()</a></code>
<ul><li>Added <code>"ecostateid"</code>, <code>"ecostatename"</code>, <code>"commphaseid"</code>, <code>"commphasename</code>” to columns from <code>site</code> and <code>siteobs</code> are now joined into <code>"vegplot"</code> result.</li>
<li>Fixed <code>"site"</code> join used for <code>"vegplot"</code> table result. Now using LEFT join to add <code>siteecositehistory</code> information</li>
<li>Sites without vegetation plots are now excluded from the result</li>
</ul></li>
<li>
<code><a href="../reference/fetchVegdata.html">get_vegplot_trhi_from_NASIS_db()</a></code> &amp; <code><a href="../reference/fetchVegdata.html">get_vegplot_transect_from_NASIS_db()</a></code> no longer join to the <code>pedon</code> table. Use the <code>"siteobsiid"</code> or vegetation plot <code>"assocuserpedonid"</code> to join to pedon records when necessary.
<ul><li>This change avoids issues with unintended duplication of records e.g. lab pedons that have multiple pedons per site observation. Thanks to Nathan Roe for suggestion.</li>
</ul></li>
<li>
<code>get_vegplot_*()</code> functions use INNER join to <code>vegtransect</code> table where applicable, so records are only returned for vegplots with an associated transect. Thanks to Zach Van Abbema for suggestion.</li>
<li>
<code><a href="../reference/createSSURGO.html">createSSURGO()</a></code>: more informative error message when no export files found for import</li>
<li>Improved <a href="https://github.com/brownag/soilDBdata" class="external-link">soilDBdata</a> data sets used for unit tests of <code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> and <code><a href="../reference/fetchVegdata.html">fetchVegdata()</a></code> when a local NASIS instance is not available</li>
<li>Updated NASIS SoilProfileCollection data sets (<code>loafercreek</code>, <code>gopheridge</code>, <code>mineralKing</code>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.6" id="soildb-286-2024-12-23">soilDB 2.8.6 (2024-12-23)<a class="anchor" aria-label="anchor" href="#soildb-286-2024-12-23"></a></h2>
<ul><li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> and <code><a href="../reference/get_site_data_from_NASIS_db.html">get_site_data_from_NASIS_db()</a></code> now return Ecological Site State and Community Phase information (ecostatename, ecostateid, commphasename, commphaseid columns) from Site Observation table</li>
<li>
<code><a href="../reference/createStaticNASIS.html">createStaticNASIS()</a></code> bug fixes
<ul><li>Removed workaround for {odbc}/nanoodbc VARCHAR(MAX) columns; now can directly use <code><a href="https://dbi.r-dbi.org/reference/dbReadTable.html" class="external-link">DBI::dbReadTable()</a></code> for all tables via NASIS ODBC connection</li>
<li>Fixed error when <code>output_path=NULL</code>
</li>
</ul></li>
<li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> changed default behavior to <code>mixColors=FALSE</code> which returns dominant condition for each moisture state rather than mixing LAB color coordinates
<ul><li>
<code><a href="../reference/get_colors_from_NASIS_db.html">get_colors_from_NASIS_db()</a></code> deprecate <code>mixColors</code> argument, add <code>method</code> argument with options “dominant”, “mixed”, and “none”. New aggregation method <code>"none"</code> returns long format representation of color data from phcolor table with no aggregation applied.</li>
</ul></li>
<li>
<code><a href="../reference/createSSURGO.html">createSSURGO()</a></code> updates:
<ul><li>Added incremental write of tabular data by table and soil survey area, which is much more memory efficient</li>
<li>Added <code>maxruledepth</code> argument to allow filtering of <code>cointerp</code> table, and set default to <code>0</code>.
<ul><li>This reduces number of <code>cointerp</code> rows by about 75% for published SSURGO. Generally, Web Soil Survey exports have maximum rule depth of <code>1</code>, but custom NASIS exports can be “deeper”</li>
</ul></li>
<li>Updated behavior of <code>filename</code> argument when <code>conn</code> <em>DBIConnection</em> is specified and improved <code>overwrite</code> logic</li>
<li>Added <code>dissolve_field</code> to facilitate creating aggregate geometries by <code>"mukey"</code> or other spatial attribute</li>
<li>Added <code>include_tabular</code> argument to support omitting tabular data when building a database</li>
<li>Now <code>include_spatial</code> and <code>include_tabular</code> are allowed to be a <em>character</em> vectors of table names
<ul><li>
<code>TRUE</code> is all tables, <code>FALSE</code> is no tables. This allows for subsets of the SSURGO data model to be specified with finer user control over database contents.</li>
</ul></li>
<li>Now a composite <code>"soil_metadata"</code> table is made with <code>"areasymbol"</code> column and one row per soil survey area, rather than one table per soil survey area. This is more compact and scales better to larger databases.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.5" id="soildb-285-2024-11-04">soilDB 2.8.5 (2024-11-04)<a class="anchor" aria-label="anchor" href="#soildb-285-2024-11-04"></a></h2><p class="text-muted">CRAN release: 2024-11-05</p>
<ul><li>
<code><a href="../reference/fetchLDM.html">fetchLDM()</a></code> add support for <code>area_type</code> argument with local database connections (<code>dsn</code> argument)</li>
<li>
<code><a href="../reference/fetchSCAN.html">fetchSCAN()</a></code> updates:
<ul><li>Improved SCAN, CSCAN, SNOTEL, SNOWLITE station metadata (<a href="https://github.com/ncss-tech/soilDB/issues/61" class="external-link">#61</a>) via <a href="https://github.com/jskovlin" class="external-link">@jskovlin</a></li>
<li>Timezone support for hourly data requested by <code><a href="../reference/fetchSCAN.html">fetchSCAN()</a></code> (<a href="https://github.com/ncss-tech/soilDB/issues/184" class="external-link">#184</a>)</li>
<li>All above-ground sensors are now returned, instead of just the first of each type (<a href="https://github.com/ncss-tech/soilDB/issues/359" class="external-link">#359</a>)</li>
</ul></li>
<li>Added new help file on NASIS database sources; see <code><a href="../reference/NASISLocalDatabase.html">?NASISLocalDatabase</a></code> (<a href="https://github.com/ncss-tech/soilDB/issues/360" class="external-link">#360</a>)</li>
<li>
<code>get_SDA_*()</code> function updates related to consistent parameters for miscellaneous areas and minor components (<a href="https://github.com/ncss-tech/soilDB/issues/361" class="external-link">#361</a>)</li>
<li>
<code><a href="../reference/fetchSOLUS.html">fetchSOLUS()</a></code>: New function for downloading data from Soil Landscapes of the United States 100-meter (SOLUS100) soil property maps project repository (<a href="https://github.com/ncss-tech/soilDB/issues/362" class="external-link">#362</a>)</li>
<li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> more consistent QC messages and output for multiple site observations and lab samples</li>
<li>Updated SoilProfileCollection data sets (<code>loafercreek</code>, <code>gopheridge</code>, <code>mineralKing</code>) for aqp 2.1.x object definition and recent changes to <code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> (<a href="https://github.com/ncss-tech/soilDB/issues/363" class="external-link">#363</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.4" id="soildb-284-2024-08-17">soilDB 2.8.4 (2024-08-17)<a class="anchor" aria-label="anchor" href="#soildb-284-2024-08-17"></a></h2><p class="text-muted">CRAN release: 2024-08-17</p>
<ul><li>
<code><a href="../reference/createSSURGO.html">createSSURGO()</a></code> bug fixes following changes in 2.8.3
<ul><li>generating <code>gpkg_contents</code> for GeoPackage files failed to add entries for “features” data_type</li>
<li>
<code>filename</code> argument not properly handled in some cases</li>
</ul></li>
<li>
<code><a href="../reference/SDA_query.html">SDA_query()</a></code> handle another possible failure point in error handling code</li>
<li>
<code><a href="../reference/createStaticNASIS.html">createStaticNASIS()</a></code> use <code>odbc::dbListFields()</code> instead of <code><a href="https://odbc.r-dbi.org/reference/odbcConnectionColumns.html" class="external-link">odbc::odbcConnectionColumns()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.3" id="soildb-283-2024-06-11">soilDB 2.8.3 (2024-06-11)<a class="anchor" aria-label="anchor" href="#soildb-283-2024-06-11"></a></h2><p class="text-muted">CRAN release: 2024-06-11</p>
<ul><li>Updates to SoilWeb web coverage services
<ul><li>ISSR800 authoritative grid system altered slightly</li>
<li>
<code><a href="../reference/ISSR800.wcs.html">ISSR800.wcs()</a></code> and <code><a href="../reference/soilColor.wcs.html">soilColor.wcs()</a></code> now set color table internally when possible</li>
<li>updated source data: ISSR800 (FY24) and soil color (FY23)</li>
</ul></li>
<li>
<code><a href="../reference/SDA_query.html">SDA_query()</a></code> updates
<ul><li>Better messaging on error</li>
<li>Handle try-error result more gracefully in high-level functions (<a href="https://github.com/ncss-tech/soilDB/issues/352" class="external-link">#352</a>)</li>
</ul></li>
<li>
<code><a href="../reference/createSSURGO.html">createSSURGO()</a></code>: added support for creating DuckDB, PostgreSQL, and other DBI-compatible databases (<a href="https://github.com/ncss-tech/soilDB/issues/352" class="external-link">#352</a>) via <code>conn</code> argument</li>
<li>
<code><a href="../reference/fetchSDA.html">fetchSDA()</a></code> and <code><a href="../reference/fetchSDA.html">get_chorizon_from_SDA()</a></code> concatenate multiple <code>texcl</code> using a comma when a texture group contains multiple texture classes (e.g. stratified textures) (fixes <a href="https://github.com/ncss-tech/soilDB/issues/353" class="external-link">#353</a>)</li>
<li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code>/<code>.formatLandformString()</code>: append <code>geomfmod</code> column to landscape, landform, and microfeature strings where present; thanks to Gabriel Benitez for suggestion</li>
<li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code>/<code><a href="../reference/get_extended_data_from_NASIS_db.html">get_extended_data_from_NASIS_db()</a></code>: fix conversion of codes to labels for microrelief</li>
<li>
<code><a href="../reference/fetchSCAN.html">fetchSCAN()</a></code>: fix header format; thanks to <a href="https://github.com/dschlaep" class="external-link">@dschlaep</a> for reporting and providing a fix</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.2" id="soildb-282-2024-04-22">soilDB 2.8.2 (2024-04-22)<a class="anchor" aria-label="anchor" href="#soildb-282-2024-04-22"></a></h2><p class="text-muted">CRAN release: 2024-04-22</p>
<ul><li>SoilWeb Web Coverage Service MUKEY grid data source (used for <code><a href="../reference/mukey.wcs.html">mukey.wcs()</a></code>) and metadata have been updated for FY2024
<ul><li>Note that ISSR800 WCS (<code><a href="../reference/ISSR800.wcs.html">ISSR800.wcs()</a></code> source) is still using FY2023/FY2022 data</li>
</ul></li>
<li>
<code><a href="../reference/get_SDA_coecoclass.html">get_SDA_coecoclass()</a></code> default data returned for methods “Dominant Component”, “Dominant Condition” and “None” now include <code>localphase</code> column</li>
<li>
<code><a href="../reference/get_soilseries_from_NASIS.html">get_soilseries_from_NASIS()</a></code> and <code><a href="../reference/get_soilseries_from_NASIS.html">get_competing_soilseries_from_NASIS()</a></code>: add <code>SS</code> argument for parity with all other NASIS “get” methods
<ul><li>default to <code>FALSE</code> for backward compatibility/common use cases</li>
</ul></li>
<li>
<code><a href="../reference/get_site_data_from_NASIS_db.html">get_site_data_from_NASIS_db()</a></code> gains Frost Free Days, MAP, REAP, MAAT, MAST, MSAT, MSST, MWAT, MWST, and Parent Material Group Name; thanks to Zach Van Abbema for suggestion</li>
<li>Changes in column names related to Area table / <code>"areasymbol"</code> (<a href="https://github.com/ncss-tech/soilDB/issues/272" class="external-link">#272</a>); thanks to Zach Van Abbema for suggestion
<ul><li>
<code><a href="../reference/get_site_data_from_NASIS_db.html">get_site_data_from_NASIS_db()</a></code>: Add state, county, and MLRA areasymbol references (<code>"site_state"</code>, <code>"site_county"</code>, <code>"site_mlra"</code>)</li>
<li>
<code>get_mapunit_from_NASIS_db()</code>: Add dominant MLRA areasymbol reference column <code>"lmapunit_mlra"</code>
</li>
<li>
<code><a href="../reference/get_soilseries_from_NASIS.html">get_soilseries_from_NASIS()</a></code>: replace <code>areasymbol</code> column to use relationship-style name <code>"soilseries_typelocst"</code> (minor breaking change)</li>
</ul></li>
<li>
<code><a href="../reference/fetchSDA_spatial.html">fetchSDA_spatial()</a></code>: Add support for querying mapunit point (<code>"mupoint"</code>), mapunit line (<code>"muline"</code>), special feature point (<code>"featpoint"</code>), special feature line (<code>"featline"</code>) by <code>mukey</code> or <code>featkey</code>, geometry type selectable via <code>geom.src</code> argument</li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code>: Add support for querying mapunit point (<code>"mupoint"</code>), mapunit line (<code>"muline"</code>), special feature point (<code>"featpoint"</code>), special feature line (<code>"featline"</code>) for a spatial extent, geometry type selectable via <code>what</code> argument</li>
<li>
<code><a href="../reference/simplifyFragmentData.html">simplifyFragmentData()</a></code> / <code><a href="../reference/simplifyFragmentData.html">simplifyArtifactData()</a></code> efficiency improvement when all records are missing data</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.1" id="soildb-281-2024-01-09">soilDB 2.8.1 (2024-01-09)<a class="anchor" aria-label="anchor" href="#soildb-281-2024-01-09"></a></h2><p class="text-muted">CRAN release: 2024-01-09</p>
<ul><li>
<code><a href="../reference/get_mapunit_from_NASIS.html">get_mapunit_from_NASIS()</a></code>, <code><a href="../reference/get_mapunit_from_NASIS.html">get_lmuaoverlap_from_NASIS()</a></code> and <code><a href="../reference/get_mapunit_from_NASIS.html">get_legend_from_NASIS()</a></code> gain <code>areatypename</code> argument used for filtering legends by <code>areatypename</code>.
<ul><li>Default results include <code>"Non-MLRA Soil Survey Area"</code> and <code>"MLRA Soil Survey Area"</code>. Set to <code>NULL</code> for no filter.</li>
</ul></li>
<li>Fixed bugs in <code><a href="../reference/waterDayYear.html">waterDayYear()</a></code> and <code><a href="../reference/fetchHenry.html">summarizeSoilTemperature()</a></code> for leap years (<a href="https://github.com/ncss-tech/soilDB/issues/333" class="external-link">#333</a>)</li>
<li>
<code><a href="../reference/fetchSoilGrids.html">fetchSoilGrids()</a></code> upgrades
<ul><li>Fixed a bug with <code>data.frame</code> output</li>
<li>Requests for more than 5 sites now include a call to <code><a href="https://rdrr.io/r/base/Sys.sleep.html" class="external-link">Sys.sleep()</a></code> to conform with ISRIC “Fair Use” policy</li>
<li>Upgraded SoilProfileCollection spatial promotion for aqp 2.0+</li>
<li>Added 10 kPa, 33 kPa and 1500 kPa water content estimates to default variable sets for point and grid queries</li>
</ul></li>
<li>
<code><a href="../reference/fetchSDA_spatial.html">fetchSDA_spatial()</a></code> gains ability to query mapunit delineations by Ecological Site ID (<code>by.col="ecoclassid"</code>)</li>
<li>
<code><a href="../reference/get_SDA_coecoclass.html">get_SDA_coecoclass()</a></code> default <code>ecoclasstypename</code> is now <code>c("NRCS Rangeland Site", "NRCS Forestland Site")</code>, as this is the most common type of aggregation and is least prone to producing unusual composition-related errors due to duplications
<ul><li>Fixed bug related to merging tables/integer data type</li>
<li>Fixed bug in calculation of “Not assigned” fraction of mapunits which could result in negative aggregate component percentages below the default threshold</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8.0" id="soildb-280-2023-12-22">soilDB 2.8.0 (2023-12-22)<a class="anchor" aria-label="anchor" href="#soildb-280-2023-12-22"></a></h2><p class="text-muted">CRAN release: 2023-12-22</p>
<ul><li>Minimum {aqp} version set to v2.0.2. This is due to changes in the namespace related to <code><a href="https://ncss-tech.github.io/aqp/reference/col2Munsell.html" class="external-link">aqp::col2Munsell()</a></code>, to “encourage” users to update to the more efficient routines provided in {aqp} 2+ (if they haven’t already), and prepare for future updates in the 2.x series.</li>
<li>Fix bugs in <code><a href="../reference/get_SDA_interpretation.html">get_SDA_interpretation()</a></code> when <code>dsn</code> refers to a local SQLite source and in concatenation of reason string when <code>wide_reason=TRUE</code>
</li>
<li>
<code><a href="../reference/createSSURGO.html">createSSURGO()</a></code> updates:
<ul><li>
<em>Breaking change</em>: Now uses the standard SSURGO layer names for spatial data (e.g. <code>"mupolygon"</code> rather than <code>"soilmu_a"</code>).</li>
<li>Creates indices for foreign keys and other columns important for data analysis, dramatically improving the performance of standard queries on SQLite sources.</li>
<li>Now works properly on STATSGO data sets for individual states or CONUS. Previously tabular data would be transferred but spatial data were not.</li>
</ul></li>
<li>
<code><a href="../reference/downloadSSURGO.html">downloadSSURGO()</a></code> gains <code>db</code> argument which gives ability to download STATSGO by state or all of US from Web Soil Survey. Thanks to Meghan Krueger for suggestion.</li>
<li>
<code><a href="../reference/get_SDA_property.html">get_SDA_property()</a></code>: weighted average/dominant component numeric methods now return <code>mukey</code> in first column position; for parity with other <code>get_SDA*</code> methods recently updated/already doing this, making it easier to use these columns for raster attribute tables via <code>terra::set.levels()</code>
</li>
<li>
<code>fetchNASIS(lab=TRUE)</code> fixed a bug when multiple <code>phlabresults</code> records are present for a single horizon, but one or both is missing bottom depth. Thanks to Meyer Bohn (<a href="https://github.com/MollicMeyer" class="external-link">@MollicMeyer</a>) for reporting.</li>
<li>SoilProfileCollection objects now include a time stamp in their metadata, accessed as: <code>metadata(x)$created</code> (<a href="https://github.com/ncss-tech/soilDB/issues/235" class="external-link">#235</a>)</li>
<li>Added <code>area_type</code> argument to <code><a href="../reference/fetchLDM.html">fetchLDM()</a></code> for non-SSA area queries (<a href="https://github.com/ncss-tech/soilDB/issues/328" class="external-link">#328</a>)</li>
<li>Added <code>grid</code> argument to <code><a href="../reference/fetchSoilGrids.html">fetchSoilGrids()</a></code> for downloading Cloud-Optimized GeoTIFF subsets for spatial extent (<a href="https://github.com/ncss-tech/soilDB/issues/329" class="external-link">#329</a>)</li>
<li>
<code><a href="../reference/fetchOSD.html">fetchOSD()</a></code> now automatically batches requests into sets of 100 series, allowing arbitrarily large requests to be made (<a href="https://github.com/ncss-tech/soilDB/issues/239" class="external-link">#239</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.7.10" id="soildb-2710-2023-11-16">soilDB 2.7.10 (2023-11-16)<a class="anchor" aria-label="anchor" href="#soildb-2710-2023-11-16"></a></h2><p class="text-muted">CRAN release: 2023-11-16</p>
<ul><li>
<p><code><a href="../reference/fetchSDA_spatial.html">fetchSDA_spatial()</a></code> gains <code>geom.src="mlrapolygon"</code> for obtaining Major Land Resource Area (MLRA) polygon boundaries. When using this geometry source <code>x</code> is a vector of <code>MLRARSYM</code> (MLRA Symbols).</p>
<ul><li>The geometry source is the MLRA Geographic Database v5.2 (2022) which is not (yet) part of Soil Data Access. Instead of SDA, GDAL utilities are used to read a zipped ESRI Shapefile from a remote URL: <a href="https://www.nrcs.usda.gov/sites/default/files/2022-10/MLRA_52_2022.zip" class="external-link uri">https://www.nrcs.usda.gov/sites/default/files/2022-10/MLRA_52_2022.zip</a>. Therefore, most additional <code><a href="../reference/fetchSDA_spatial.html">fetchSDA_spatial()</a></code> arguments are <em>not</em> currently supported for the MLRA geometry source. In the future a <code>mlrapolygon</code> table may be added to SDA (analogous to <code>mupolygon</code> and <code>sapolygon</code>), and the function will be updated accordingly at that time.</li>
</ul></li>
<li><p>Web coverage services and related raster attribute tables provided by SoilWeb (<code><a href="../reference/mukey.wcs.html">mukey.wcs()</a></code> etc.) are now using the SoilWeb load-balancer URL</p></li>
<li><p><code><a href="../reference/get_SDA_coecoclass.html">get_SDA_coecoclass()</a></code> gains <code>method="all"</code> for aggregating information about ecological sites and related components. The method performs a condition-based aggregation for each ecological site condition in the map unit, producing a “wide” data.frame result with as many columns as needed to portray all site conditions.</p></li>
<li><p><code><a href="../reference/fetchLDM.html">fetchLDM()</a></code> gains new argument <code>WHERE</code> for supplying a custom SQL where clause for selecting sites of interest. For example: <code>fetchLDM(WHERE = "CASE WHEN corr_name IS NOT NULL THEN LOWER(corr_name) ELSE LOWER(samp_name) END = 'musick'")</code></p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.7.9" id="soildb-279-2023-09-01">soilDB 2.7.9 (2023-09-01)<a class="anchor" aria-label="anchor" href="#soildb-279-2023-09-01"></a></h2>
<ul><li>Added new <code>method</code> options for <code><a href="../reference/fetchSDA_spatial.html">fetchSDA_spatial()</a></code>. Aggregation grouping is controlled by the <code>by.col</code> argument. This works for mapunit and survey area polygon geometries, aggregating all polygons in the group for each <code>mukey</code>, <code>nationalmusym</code>, <code>lkey</code>, or <code>areasymbol</code> extent.
<ul><li>
<code>method="extent"</code> method calculates a bounding rectangle<br></li>
<li>
<code>method="convexhull"</code> calculates the convex hull</li>
<li>
<code>method="union"</code> returns a MULTIPOLYGON</li>
<li>
<code>method="collection"</code> returns a GEOMETRYCOLLECTION</li>
</ul></li>
</ul><div class="section level3">
<h3 id="bug-fixes-2-7-9">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-7-9"></a></h3>
<ul><li><p>Bug fix for <code><a href="../reference/fetchVegdata.html">get_vegplot_transpoints_from_NASIS_db()</a></code>; using wrong record ID for transect points</p></li>
<li><p><code><a href="../reference/get_NASIS_table_name_by_purpose.html">get_NASIS_table_name_by_purpose()</a></code> now includes <code>"pointplantcoverdetails"</code>, <code>"plantprodquadratdetails"</code> in the <code>"vegetation"</code> table purpose group</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.7.8" id="soildb-278-2023-08-29">soilDB 2.7.8 (2023-08-29)<a class="anchor" aria-label="anchor" href="#soildb-278-2023-08-29"></a></h2><p class="text-muted">CRAN release: 2023-08-29</p>
<ul><li><p>Added new SoilWeb “Web Coverage Service” vignette (<a href="https://ncss-tech.github.io/soilDB/articles/wcs-ssurgo.html" class="external-link uri">https://ncss-tech.github.io/soilDB/articles/wcs-ssurgo.html</a>) related to creating thematic maps using grids of mapunit keys from SoilWeb with aggregated tabular data from Soil Data Access.</p></li>
<li><p><code>get_SDA_*()</code> functions now all return <code>mukey</code> values in first column</p></li>
<li><p><code><a href="../reference/mukey.wcs.html">mukey.wcs()</a></code> gains a 30m gridded version of Hawaii and Puerto Rico SSURGO data via <code>db="HI_SSURGO"</code> and <code>db="PR_SSURGO"</code>, respectively.</p></li>
<li><p><code>get_vegplot_data_from_NASIS_db()</code>: now uses LEFT join to plant table so that empty records can be diagnosed; thanks to <a href="https://github.com/natearoe" class="external-link">@natearoe</a> for suggestion</p></li>
<li><p>Added new NASIS query functions for vegetation transect point and quadrat details: <code><a href="../reference/fetchVegdata.html">get_vegplot_prodquadrats_from_NASIS_db()</a></code> and <code><a href="../reference/fetchVegdata.html">get_vegplot_transpoints_from_NASIS_db()</a></code></p></li>
</ul><div class="section level3">
<h3 id="bug-fixes-2-7-8">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-7-8"></a></h3>
<ul><li><p><code>get_SDA_property(method="Dominant Component (Numeric)")</code> now includes minors by default, fixing issues with STATSGO mapunits that have no major components flagged. (<a href="https://github.com/dylanbeaudette" class="external-link">@dylanbeaudette</a>)</p></li>
<li><p><code><a href="../reference/get_component_data_from_NASIS_db.html">get_component_data_from_NASIS_db()</a></code>: removed duplicated <code>hydricrating</code> column, also now includes climate columns with standard names. This is a continuation of the idea that custom aliases for standard NASIS columns are deprecated (<a href="https://github.com/ncss-tech/soilDB/issues/242" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/242</a>)</p></li>
<li><p><code>.pickBestEcosite()</code> now considers <code>record_when_last_updated</code> in lieu of correlation date; this stabilizes sort order from SQLite snapshot v.s. NASIS local database sources (<a href="https://github.com/ncss-tech/soilDB/issues/295" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/295</a>)</p></li>
<li><p><code><a href="../reference/fetchGDB.html">get_component_from_GDB()</a></code>: fixes for batching over component geomorphic description and parent material group</p></li>
<li><p><code><a href="../reference/fetchSDA.html">get_mapunit_from_SDA()</a></code>: handle possibility of mapunit-level SDA query failure</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.7.7" id="soildb-277-2023-03-10">soilDB 2.7.7 (2023-03-10)<a class="anchor" aria-label="anchor" href="#soildb-277-2023-03-10"></a></h2><p class="text-muted">CRAN release: 2023-03-10</p>
<div class="section level3">
<h3 id="enhancements-2-7-7">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-2-7-7"></a></h3>
<ul><li><p><code>fetchNASIS(from="pedons")</code> and <code><a href="../reference/get_site_data_from_NASIS_db.html">get_site_data_from_NASIS_db()</a></code> now return <code>siteobsiid</code> column (<a href="https://github.com/natearoe" class="external-link">@natearoe</a>)</p></li>
<li><p><code><a href="../reference/mukey.wcs.html">mukey.wcs()</a></code> gains experimental gridded STATSGO layer (300m)</p></li>
<li><p>Add <code><a href="../reference/get_NASIS_table_metadata.html">get_NASIS_table_metadata()</a></code> for returning information about columns in NASIS tables.</p></li>
<li><p><code>simplifyFragment/ArtifactData()</code>: downgrade warnings</p></li>
<li><p><code><a href="../reference/fetchSDA.html">get_cosoilmoist_from_SDA()</a></code>: <code>mukey</code> and <code>cokey</code> now included when <code>duplicates=TRUE</code>; thanks to <a href="https://github.com/andypaolucci" class="external-link">@andypaolucci</a> for catching this</p></li>
<li>
<p><code><a href="../reference/fetchSoilGrids.html">fetchSoilGrids()</a></code></p>
<ul><li><p>Add <code>SpatVector</code> coercion for input locations (already supported sf/sp classes)</p></li>
<li><p>Add handling for messages from API about erroneous input</p></li>
</ul></li>
<li><p>Add <code>fetchNASIS("pedons")</code> columns vignette</p></li>
<li><p>Add <code><a href="../reference/get_NASIS_table_metadata.html">get_NASIS_table_metadata()</a></code> and optional argument <code>include_description</code> for <code><a href="../reference/get_NASIS_metadata.html">get_NASIS_metadata()</a></code> and <code><a href="../reference/get_NASIS_metadata.html">get_NASIS_column_metadata()</a></code></p></li>
<li><p><code><a href="../reference/get_SDA_cosurfmorph.html">get_SDA_cosurfmorph()</a></code> + <code><a href="../reference/get_SDA_pmgroupname.html">get_SDA_pmgroupname()</a></code>: support for including or excluding misc. areas via <code>miscellaneous_areas</code> argument</p></li>
<li>
<p><code><a href="../reference/get_site_data_from_NASIS_db.html">get_site_data_from_NASIS_db()</a></code>:</p>
<ul><li><p>Omit “multiple horizontal datums” warning</p></li>
<li><p>Remove calculated X/Y long/lat + add proper NASIS alias for long/lat</p></li>
<li><p>Add <code>siteothvegclass</code> id/name - add tables to default lookup/site sets</p></li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-7-7">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-7-7"></a></h3>
<ul><li><p><code>dbQueryNASIS(..., close=TRUE)</code> now calls <code><a href="https://dbi.r-dbi.org/reference/dbDisconnect.html" class="external-link">dbDisconnect()</a></code> <code><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit()</a></code> (ensuring connections get closed on error)</p></li>
<li>
<p><code><a href="../reference/fetchSCAN.html">fetchSCAN()</a></code>:</p>
<ul><li><p>2x requests when <code>timeseries</code> argument not specified</p></li>
<li><p>Account for no results (e.g. year = 1800)</p></li>
<li><p>Bug fix in vectorization when daily + hourly data requested</p></li>
</ul></li>
<li>
<p><code><a href="../reference/downloadSSURGO.html">downloadSSURGO()</a></code>:</p>
<ul><li><p>Handle <code><a href="../reference/SDA_query.html">SDA_query()</a></code> with invalid syntax in <code>WHERE</code> clause</p></li>
<li><p>Fix for <code>include_template=FALSE</code></p></li>
</ul></li>
<li>
<p><code><a href="../reference/createSSURGO.html">createSSURGO()</a></code></p>
<ul><li>Attribute tables are now added to <code>gpkg_contents</code> when output <code>filename</code> is a GeoPackage</li>
</ul></li>
<li><p>Fix for <code>.get_comonth_from_SDA()</code></p></li>
<li><p>Fix selected set (<code>SS</code> argument) for <code><a href="../reference/get_ecosite_history_from_NASIS_db.html">get_ecosite_history_from_NASIS_db()</a></code> in <code><a href="../reference/get_site_data_from_NASIS_db.html">get_site_data_from_NASIS_db()</a></code></p></li>
<li><p><code>get_SDA_pmgroupname</code>: return <code>NA</code> (not “NULL”) for empty/missing <code>pmgroupname</code> when <code>simplify=TRUE</code></p></li>
<li>
<p><code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code>:</p>
<ul><li><p><code>geomIntersection=TRUE</code> with <code>db="SAPOLYGON"</code> now correctly labels the <code>areasymbol</code> column (previously was <code>mukey</code>) to match <code>geomIntersection=FALSE</code> and SDA schema</p></li>
<li><p>Bounding box extent polygons are now only calculated for <code>SpatRaster</code> (not <code>SpatVector</code>) input</p></li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.7.6" id="soildb-276-2022-11-28">soilDB 2.7.6 (2022-11-28)<a class="anchor" aria-label="anchor" href="#soildb-276-2022-11-28"></a></h2><p class="text-muted">CRAN release: 2022-12-02</p>
<ul><li><p>All references to <code>soilDB.env</code> have been replaced with a function that returns that environment object (<code><a href="../reference/get_soilDB_env.html">get_soilDB_env()</a></code>); thanks to <a href="https://github.com/MollicMeyer" class="external-link">@MollicMeyer</a> for identifying this as a problem in <a href="https://github.com/ncss-tech/soilDB/issues/277" class="external-link">#277</a>. This object used to be exported but was unintentionally omitted from NAMESPACE; this has been fixed.</p></li>
<li><p><code>fetchNASIS(lab=TRUE)</code> bug fix related to many:1 relationships between lab samples and morphologic horizons with all-missing columns having <em>logical</em> datatype (<a href="https://github.com/ncss-tech/soilDB/issues/277" class="external-link">#277</a>)</p></li>
<li><p>Added <code><a href="../reference/get_SRI.html">get_SRI()</a></code> and <code><a href="../reference/fetchSRI.html">fetchSRI()</a></code> functions for accessing USFS Region 6 Soil Resource Inventory information from <a href="https://ecoshare.info/" class="external-link uri">https://ecoshare.info/</a>; thanks to <a href="https://github.com/joshualerickson" class="external-link">@joshualerickson</a> for the contribution (<a href="https://github.com/ncss-tech/soilDB/pull/274" class="external-link uri">https://github.com/ncss-tech/soilDB/pull/274</a>)</p></li>
<li><p><code><a href="../reference/fetchLDM.html">fetchLDM()</a></code> now sets the horizon designation metadata like other fetch* functions that return SoilProfileCollection objects (<a href="https://github.com/dylanbeaudette" class="external-link">@dylanbeaudette</a>)</p></li>
<li><p><code><a href="../reference/mukey.wcs.html">mukey.wcs()</a></code> fix spurious warnings occasionally given due to minor differences (rounding) of grid dimensions</p></li>
<li><p>{curl} has been moved from Suggests to Imports</p></li>
<li><p><code>simplfyFragmentData()</code> alias for <code><a href="../reference/simplifyFragmentData.html">simplifyFragmentData()</a></code> removed (<a href="https://github.com/infotroph" class="external-link">@infotroph</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.7.5" id="soildb-275-2022-10-17">soilDB 2.7.5 (2022-10-17)<a class="anchor" aria-label="anchor" href="#soildb-275-2022-10-17"></a></h2><p class="text-muted">CRAN release: 2022-10-18</p>
<ul><li><p>Updates to SSURGO File Geodatabase functions (<code><a href="../reference/fetchGDB.html">fetchGDB()</a></code> and related) by <a href="https://github.com/smroecker" class="external-link">@smroecker</a></p></li>
<li><p>Added <code><a href="../reference/soilColor.wcs.html">soilColor.wcs()</a></code> to access a web coverage service for soil color at various depths by <a href="https://github.com/dylanbeaudette" class="external-link">@dylanbeaudette</a></p></li>
<li>
<p><code><a href="../reference/waterDayYear.html">waterDayYear()</a></code>: fix for CRAN and different timezones; now defaults to <code>tz="UTC"</code> <a href="https://github.com/ncss-tech/soilDB/issues/268" class="external-link">#268</a></p>
<ul><li>
<code><a href="../reference/fetchHenry.html">summarizeSoilTemperature()</a></code>: set default timezone to <code>tz="UTC"</code>
</li>
</ul></li>
<li>
<p>Fix for <code><a href="../reference/uncode.html">uncode()</a></code> on pre-decoded values when ChoiceName and ChoiceLabel overlap <a href="https://github.com/ncss-tech/soilDB/issues/273" class="external-link">#273</a></p>
<ul><li>Fix for <code><a href="../reference/NASISChoiceList.html">NASISChoiceList()</a></code> related to <a href="https://github.com/ncss-tech/soilDB/issues/273" class="external-link">#273</a></li>
</ul></li>
<li><p><code><a href="../reference/get_soilseries_from_NASIS.html">get_soilseries_from_NASIS()</a></code>: Remove <code>areaacres</code> and <code>obterm</code> for <a href="https://github.com/ncss-tech/soilDB/issues/272" class="external-link">#272</a> by <a href="https://github.com/smroecker" class="external-link">@smroecker</a></p></li>
<li><p>Fix for <code>get_OSD(..., fix_ocr_errors = TRUE)</code> with empty typical profile for <a href="https://github.com/ncss-tech/soilDB/issues/271" class="external-link">#271</a> by <a href="https://github.com/dylanbeaudette" class="external-link">@dylanbeaudette</a></p></li>
<li><p><code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> drops non-representative and additional when <code>dropNotRepresentative</code>/<code>dropAdditional</code> are set (<a href="https://github.com/natearoe" class="external-link">@natearoe</a>)</p></li>
<li><p>Fix for <code><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct()</a></code> in R 4.3+; for <a href="https://github.com/ncss-tech/soilDB/issues/265" class="external-link">#265</a></p></li>
<li>
<p>Fix for “status was ’SSL connect error” for <code><a href="../reference/fetchKSSL.html">fetchKSSL()</a></code> and other functions that download JSON (<a href="https://github.com/kramdog" class="external-link">@kramdog</a>)</p>
<ul><li>Now uses standard soilDB {curl} handle, which includes a longer timeout and <code>ssl_verifyhost=0</code>
</li>
</ul></li>
<li><p>Fixes for compatibility with {jsonlite} &gt;1.8.1 that now uses {base} rather than {curl}</p></li>
<li><p>Update row count expectations for end of FY22 SSURGO refresh</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.7.4" id="soildb-274-2022-09-30">soilDB 2.7.4 (2022-09-30)<a class="anchor" aria-label="anchor" href="#soildb-274-2022-09-30"></a></h2><p class="text-muted">CRAN release: 2022-09-30</p>
<ul><li><p><code><a href="../reference/uncode.html">uncode()</a></code> replaced <code>\(x)</code> syntax inadvertently included in a recent update to fix R &lt; 4.1 compatibility; thanks to <a href="https://github.com/cbrueffer" class="external-link">@cbrueffer</a> for catching this (<a href="https://github.com/ncss-tech/soilDB/issues/262" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/262</a>)!</p></li>
<li><p><code><a href="../reference/get_SDA_property.html">get_SDA_property()</a></code> fixes for weighted average method (<a href="https://github.com/ncss-tech/soilDB/issues/229" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/229</a>, <a href="https://github.com/ncss-tech/soilDB/issues/261" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/261</a>)</p></li>
<li><p><code><a href="../reference/fetchOSD.html">fetchOSD()</a></code> now automatically encodes horizon distinctness codes to default depth offsets, stored in hz-level attr: <code>hzd</code></p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.7.3" id="soildb-273-2022-08-19">soilDB 2.7.3 (2022-08-19)<a class="anchor" aria-label="anchor" href="#soildb-273-2022-08-19"></a></h2><p class="text-muted">CRAN release: 2022-08-19</p>
<ul><li><p><code><a href="../reference/get_SDA_property.html">get_SDA_property()</a></code> all methods now support <code>miscellaneous_areas</code> argument. This defaults to <code>FALSE</code> for the methods it was previously implemented for–so be aware that queries using <code>"Dominant Component"</code> or <code>"Dominant Condition"</code> (which previously did not respond to <code>miscellaneous_areas</code>) may have the number of rows in result reduced due to omission of miscellaneous land types. If this is unexpected or undesired, please use <code>miscellaneous_areas=TRUE</code>. (<a href="https://github.com/ncss-tech/soilDB/issues/257" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/257</a>)</p></li>
<li><p>Adds <code><a href="../reference/get_NASIS_metadata.html">get_NASIS_metadata()</a></code> and helper method <code><a href="../reference/get_NASIS_metadata.html">get_NASIS_column_metadata()</a></code> and other new tools for working with <code><a href="../reference/uncode.html">uncode()</a></code>, factors and NASIS metadata cached in the package.</p></li>
<li><p>Bug fix for <code><a href="../reference/fetchSDA.html">get_cosoilmoist_from_SDA()</a></code>; thanks to Monika Shea <a href="https://github.com/monikashea" class="external-link">@monikashea</a> for reporting the problem (<a href="https://github.com/ncss-tech/soilDB/issues/253" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/253</a>)</p></li>
<li><p><code>fetchNASIS_report()</code> now works with the output from <code>"get_site_from_NASIS"</code> report (useful for site records without associated pedons)</p></li>
<li><p><code><a href="../reference/createSSURGO.html">createSSURGO()</a></code> gains arguments <code>quiet</code> and <code>include_spatial</code> to toggle messages and inclusion of spatial data in created SQLite database, respectively</p></li>
<li><p><code><a href="../reference/downloadSSURGO.html">downloadSSURGO()</a></code> now handles queries against <code>sacatalog</code> that return no results more gracefully</p></li>
<li><p><code><a href="../reference/get_OSD.html">get_OSD()</a></code>: Add <code>fix_ocr_errors</code> argument for <code>result='json'</code> to fix common optical character recognition errors associated with horizon designations and colors (NOTE: does NOT fix depths)</p></li>
<li><p><code><a href="../reference/fetchSCAN.html">fetchSCAN()</a></code> gains <code>timeseries</code> argument to support batch downloads of hourly data. Additional arguments (<code>...</code>) are passed as a raw request, allowing other parameters sent in request to be modified if needed, and bypassing batch functionality. This is similar to the <code>req</code> argument syntax used in earlier versions of this function, which had been deprecated for some time now. Thanks to Matthew Morriss for raising the discussion item <a href="https://github.com/morrismc99" class="external-link">@morrismc99</a> (<a href="https://github.com/ncss-tech/soilDB/discussions/260" class="external-link uri">https://github.com/ncss-tech/soilDB/discussions/260</a>).</p></li>
<li><p>{curl} moved from Suggests to Imports; <code><a href="https://jeroen.r-universe.dev/curl/reference/curl_download.html" class="external-link">curl::curl_download()</a></code> is now used instead of <code><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">utils::download.file()</a></code> because it seems to handle SSL certificates better on some networks.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.7.2" id="soildb-272-2022-06-24">soilDB 2.7.2 (2022-06-24)<a class="anchor" aria-label="anchor" href="#soildb-272-2022-06-24"></a></h2><p class="text-muted">CRAN release: 2022-06-27</p>
<ul><li><p><code>fetchNASIS("components')</code>: Fix and refactor ( <strong>breaking change</strong> from 2.7.1, which introduced a bug/inconsistency) of recent change; <code>duplicates</code> argument is now <em>required</em> to merge in data from mapunit/legend tables (where many:1 relationships between legend/mapunit and datamapunit are possible). In 2.7.1 possibly incomplete mapunit/legend tables could be joined to SoilProfileCollection result (if and only if the tables were populated in selected set/local DB). Does not change historic (&lt;=2.7.0) default behavior. Thanks to <a href="https://github.com/dylanbeaudette" class="external-link">@dylanbeaudette</a> for suggesting use of <code><a href="../reference/get_component_data_from_NASIS_db.html">get_component_correlation_data_from_NASIS_db()</a></code> here.</p></li>
<li><p>Several fixes for Roxygen documentation (notably for <code><a href="../reference/ROSETTA.html">ROSETTA()</a></code> and various NASIS web report related functions) that were missing <code>@export</code> tags. Several previously-exported functions missed being explicitly exported in the new Roxygen-generate NAMESPACE. These unintentional omissions from 2.7.1 NAMESPACE have been resolved.</p></li>
<li><p>Fixes an old bug in <code><a href="../reference/fetchSDA.html">fetchSDA()</a></code>/<code><a href="../reference/fetchSDA.html">get_chorizon_from_SDA()</a></code> related to LEFT OUTER versus RIGHT JOIN to <code>chtexture</code> table</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.7.1" id="soildb-271-2022-06-10">soilDB 2.7.1 (2022-06-10)<a class="anchor" aria-label="anchor" href="#soildb-271-2022-06-10"></a></h2><p class="text-muted">CRAN release: 2022-06-10</p>
<ul><li>
<code><a href="../reference/get_SDA_coecoclass.html">get_SDA_coecoclass()</a></code> better handling of <code>NULL</code> <code>ecoclassref</code>; support for filtering on <code>ecoclasstypename</code>; <code>not_assigned_value</code> now applies to <code>ecoclassname</code>, <code>ecoclasstypename</code> and <code>ecoclassref</code> columns in addition to <code>ecoclassid</code>; Thanks to Andy Paolucci and Jason Nemecek. Also, added additional columns from legend/mapunit tables (<code>areasymbol</code>, <code>lkey</code>, <code>muname</code>).</li>
<li>
<code>fetchNASIS(from="components")</code> now returns mapunit and legend information (if loaded in local NASIS database); results now contain <code>mustatus</code> and <code>repdmu</code> which can be used to remove components from additional mapunits and non-representative data mapunits; thanks to Nathan Roe</li>
<li>Convert UTF-8 strings in <code>us_ss_timeline</code> result to ASCII</li>
<li>
<code><a href="../reference/SDA_query.html">SDA_query()</a></code>: Fixed POST request that could produce unhandled errors on network failure (now returns <code>try-error</code> like other error-causing code)</li>
<li>
<code><a href="../reference/SDA_query.html">SDA_query()</a></code>: In the event of a syntax error, error contents are now returned as a message, not a warning.</li>
<li>
<code><a href="../reference/uncode.html">uncode()</a></code> and <code><a href="../reference/uncode.html">code()</a></code> now work with <code>data.table</code> and <code>tibble</code> objects.</li>
<li>Various fixes to tests and error handling code to reduce likelihood of thrown errors from network problems or missing suggested packages.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.7.0" id="soildb-270-2022-05-18">soilDB 2.7.0 (2022-05-18)<a class="anchor" aria-label="anchor" href="#soildb-270-2022-05-18"></a></h2><p class="text-muted">CRAN release: 2022-05-18</p>
<ul><li>Spatial
<ul><li>Dropped imports from <code>sp</code> and <code>raster</code> which means <code>soilDB</code> no longer requires the soon-to-retire <code>rgdal</code> package.</li>
<li>All spatial data processing has been moved to <code>sf</code> and <code>terra</code>, which have been added to Suggests.
<ul><li>(<em>breaking change</em>) Classes from these packages (e.g. <code>sf</code>, <code>SpatRaster</code>) will be returned by default rather than <code>Spatial*DataFrame</code> or <code>RasterLayer</code> from <code>sp</code> and <code>raster</code>.</li>
<li>(<em>breaking change</em>) Spatial functions that take spatial input will return the same class type as the input unless otherwise specified.
<ul><li>
<code><a href="../reference/fetchSDA_spatial.html">fetchSDA_spatial()</a></code> and <code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code> gain <code>as_Spatial</code> argument; when <code>TRUE</code> equivalent (backward compatible) <code>sp</code> and <code>raster</code> data types are returned.</li>
<li>Alternately, you may set <code>options(soilDB.return_Spatial=TRUE)</code>
</li>
</ul></li>
</ul></li>
<li>
<code><a href="../reference/mukey.wcs.html">mukey.wcs()</a></code> and <code><a href="../reference/ISSR800.wcs.html">ISSR800.wcs()</a></code> bug fix for some instances where the target extent was miscalculated, resulting in slight differences from requested resolution (<code>res</code> argument) of result.</li>
<li>
<code><a href="../reference/mukey.wcs.html">mukey.wcs()</a></code> gains a new possible data source <code>db="RSS"</code> which accesses a Web Coverage Service containing grids from Raster Soil Surveys in the United States.</li>
<li>See: <a href="https://github.com/ncss-tech/soilDB/pull/229" class="external-link uri">https://github.com/ncss-tech/soilDB/pull/229</a> for more details on what has changed.</li>
</ul></li>
<li>NASIS
<ul><li>(<em>breaking change</em>) <code>rmHzErrors</code> argument now defaults to <code>FALSE</code>. Please let us know if allowing horizon errors results in unexpected behavior so we can repair various interfaces that rely on no errors being present. See <code><a href="https://ncss-tech.github.io/aqp/reference/checkHzDepthLogic.html" class="external-link">aqp::checkHzDepthLogic()</a></code> for more information on the types of things that used to result in profiles being removed from results and for guidelines on how to fix.</li>
<li>Added several new columns from the <code>plotplantinventory</code> table to <code><a href="../reference/fetchVegdata.html">get_vegplot_species_from_NASIS_db()</a></code> result; thanks to Zachary Van Abbema for suggestion and feedback</li>
<li>Local NASIS metadata used for <code><a href="../reference/uncode.html">uncode()</a></code> are now cached within an R session which results in faster query processing times for users with a local NASIS database connection set up.
<ul><li>The <code>db</code> argument to <code><a href="../reference/uncode.html">uncode()</a></code> has been deprecated. Now, <code><a href="../reference/uncode.html">code()</a></code> and <code><a href="../reference/uncode.html">uncode()</a></code> can use <code>ChoiceName</code> and/or <code>ChoiceLabel</code> in coding and decoding <code>ChoiceValue</code> for all data sources.</li>
</ul></li>
<li>Rock fragment and artifact sieving now uses &lt;76mm as the upper boundary for gravel fraction, and a related QC message has been removed</li>
</ul></li>
<li>SSURGO / Soil Data Access
<ul><li>Added <code><a href="../reference/get_SDA_cosurfmorph.html">get_SDA_cosurfmorph()</a></code>: a new function in “SSURGO On Demand” style. Users can customize the WHERE clause, target tables and the grouping variable used to calculate proportions (default <code>by="compname"</code>)
<ul><li>“cosurfmorphgc” summarizes “geomposmntn”, “geomposhill”, “geomposflats”, “geompostrce”</li>
<li>“cosurfmorphhpp” summarizes “hillslopeprof”</li>
<li>“cosurfmorphss” summarizes “shapeacross”, “shapedown”, and concatenated “surfaceshape”</li>
</ul></li>
<li>Several fixes for logic of <code><a href="../reference/get_SDA_property.html">get_SDA_property()</a></code> with <code>method="weighted average"</code> and <code>include_minors=TRUE</code>/<code>miscellaneous_areas=TRUE</code>, thanks to Andy Paolucci and Dylan Beaudette for testing and providing feedback on the queries.</li>
<li>All <code>get_SDA_*()</code> methods (except <code><a href="../reference/get_SDA_metrics.html">get_SDA_metrics()</a></code>) now support input of custom <code>WHERE</code> clause in lieu of <code>mukeys</code>/<code>areasymbols</code> arguments and gain a <code>dsn</code> argument for specifying a local SQLite database or DBIConnection.</li>
<li>Added <code><a href="../reference/downloadSSURGO.html">downloadSSURGO()</a></code> for downloading/extraction of the SSURGO data by survey area from Web Soil Survey.</li>
<li>Added <code><a href="../reference/createSSURGO.html">createSSURGO()</a></code> for building of local databases as SQLite/Geopackage from one or more SSURGO exports.
<ul><li>Exports can be obtained via <code><a href="../reference/downloadSSURGO.html">downloadSSURGO()</a></code>, from NASIS or downloaded from other sources such as <a href="https://datagateway.nrcs.usda.gov/GDGHome_DirectDownLoad.aspx" class="external-link uri">https://datagateway.nrcs.usda.gov/GDGHome_DirectDownLoad.aspx</a>.</li>
</ul></li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.15" id="soildb-2615-2022-04-13">soilDB 2.6.15 (2022-04-13)<a class="anchor" aria-label="anchor" href="#soildb-2615-2022-04-13"></a></h2><p class="text-muted">CRAN release: 2022-04-14</p>
<ul><li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code>
<ul><li>New <code>mixColors</code> argument used to toggle color mixing for pedon horizons with multiple colors per moisture state.
<ul><li>Default <code>TRUE</code> mixes colors based on reported color percentage via <code><a href="../reference/estimateColorMixture.html">estimateColorMixture()</a></code>. <code>FALSE</code> returns the dominant color in each moisture state, or first record for cases without <code>colorpct</code> populated.</li>
</ul></li>
<li>Added <code>taxreaction</code> and <code>taxfamhahatmatcl</code> to extended taxonomic information</li>
<li>Added new option (<code>soilDB.NASIS.skip_uncode</code>) to bypass <code><a href="../reference/uncode.html">uncode()</a></code> in NASIS functions (mostly used for debugging or special database instances that come pre-decoded)</li>
<li>An instance in <code>fetchNASIS(from="components")</code> where local database connection was left open was fixed</li>
</ul></li>
<li>Added <code><a href="../reference/fetchLDM.html">fetchLDM()</a></code> function to access Kellogg Soil Survey Lab Data Mart via Soil Data Access or local SQLite snapshot (<a href="https://github.com/ncss-tech/soilDB/pull/243" class="external-link uri">https://github.com/ncss-tech/soilDB/pull/243</a>)</li>
<li>Added <code><a href="../reference/get_SDA_metrics.html">get_SDA_metrics()</a></code> for accessing usage metrics for Soil Data Access, Web Soil Survey and the Lab Data Mart. Thanks to Jason Nemecek for submitting the base SQL query</li>
<li>
<code>get_SDA_interpretation(method = "dominant condition")</code> now includes <code>total_comppct_*</code> columns reflecting the summed component percentage of the dominant condition</li>
<li>Updated metadata for SCAN sites that were missing <code>pedlabsampnum</code> (KSSL Pedon Sample ID)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.14" id="soildb-2614-2022-03-15">soilDB 2.6.14 (2022-03-15)<a class="anchor" aria-label="anchor" href="#soildb-2614-2022-03-15"></a></h2><p class="text-muted">CRAN release: 2022-03-15</p>
<ul><li>
<code>waterYearDay()</code> bug fix for more specific (sub-daily) date-time formats</li>
<li>
<code><a href="../reference/fetchSCAN.html">fetchSCAN()</a></code> better handling of empty results in multi-site queries</li>
<li>Updates to queries, metadata and sample datasets for NASIS 7.4.1 Database Model
<ul><li>
<code>fetchNASIS("pedons")</code> no longer includes <code>pmweathering</code>
</li>
<li>
<code>fetchNASIS("components")</code> no longer includes <code>ecositeorigin</code>
</li>
<li>New Component Ecological Site attributes added</li>
</ul></li>
<li>
<code>stringsAsFactors</code> argument to soilDB functions has been deprecated in favor of a package option
<ul><li>Default behavior for NASIS domains is to return character labels rather than coded factors</li>
<li>Use <code>NASISDomainsAsFactor(TRUE)</code> to toggle package option <code>soilDB.NASIS.DomainsAsFactor</code>
</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.13" id="soildb-2613-2022-01-29">soilDB 2.6.13 (2022-01-29)<a class="anchor" aria-label="anchor" href="#soildb-2613-2022-01-29"></a></h2><p class="text-muted">CRAN release: 2022-01-31</p>
<ul><li>
<code>fetchSDA_spatial</code> now supports <code>by.col</code> <code>"areaname"</code>, <code>"mlraoffice"</code>, and <code>"mouagencyresp"</code>; thanks to suggestion by Jay Skovlin</li>
<li>
<code>fetchNASIS</code> fix for multiple site observation records with surface fragments; thanks to bug report from Brianna Wegner</li>
<li>
<code>waterYearDay()</code> use format and timezone for start date conversion</li>
<li>
<code>fetchNASIS</code> fix for <code>from="components", SS=FALSE</code> and queries where no NASIS local database is present (e.g. from SQLite source)</li>
<li>Update to <code>NASIS_table_column_keys</code> dataset of NASIS primary and foreign keys by table name to include many more tables</li>
<li>
<code><a href="../reference/fetchVegdata.html">fetchVegdata()</a></code> no longer errors for child table queries unless site/site observation/vegetation plot records are missing</li>
<li>
<code>fetchOSD(extended=TRUE)</code> now returns an element <code>"NCCPI"</code> containing the National Commodity Crop Production Index summaries. The values returned are quantiles at the 1, 5, 25, 50, 75, 95, and 99% levels over all SSURGO components with <code>compname</code> matching <code>series</code> for irrigated and non-irrigated condition.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.12" id="soildb-2612-2022-01-07">soilDB 2.6.12 (2022-01-07)<a class="anchor" aria-label="anchor" href="#soildb-2612-2022-01-07"></a></h2><p class="text-muted">CRAN release: 2022-01-08</p>
<ul><li>
<code><a href="../reference/get_SDA_property.html">get_SDA_property()</a></code> now works with mixed component and horizon-level properties; thanks to Matthieu Stigler for the bug report</li>
<li>Added <code><a href="../reference/get_SDV_legend_elements.html">get_SDV_legend_elements()</a></code> for fetching and parsing XML for Soil Data Viewer / Web Soil Survey-style symbol themes for soil interpretations from Soil Data Access</li>
<li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> pedon and component geomorphic summaries now include columns for landscape, microfeature, microrelief, 2D/3D morphometry, and slope shape</li>
<li>
<code>fetchNASIS('pedons')</code> now uses <code><a href="../reference/simplifyFragmentData.html">simplifyFragmentData()</a></code> for surface fragments</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.11" id="soildb-2611-2021-12-21">soilDB 2.6.11 (2021-12-21)<a class="anchor" aria-label="anchor" href="#soildb-2611-2021-12-21"></a></h2>
<ul><li>
<code><a href="../reference/fetchSDA.html">fetchSDA()</a></code> handle NULL component-level results with an informative error</li>
<li>
<code><a href="../reference/fetchSDA.html">fetchSDA()</a></code> now (again) returns mapunit/legend-level information via <code><a href="../reference/get_mapunit_from_NASIS.html">get_mapunit_from_NASIS()</a></code>
</li>
<li>
<code><a href="../reference/createStaticNASIS.html">createStaticNASIS()</a></code> and queries to SQLite NASIS snapshots now preserve date/time using RSQLite 2.2.4+ via <code>extended_types=TRUE</code> argument to <code><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect()</a></code>
</li>
<li>
<code><a href="../reference/get_soilseries_from_NASIS.html">get_soilseries_from_NASIS()</a></code> now returns <code>soiltaxclasslastupdated</code> as a date/time and stores the year in calculated column <code>soiltaxclassyearlastupdated</code>
</li>
<li>Added several tables to thematic groups in <code><a href="../reference/get_NASIS_table_name_by_purpose.html">get_NASIS_table_name_by_purpose()</a></code>
</li>
<li>
<code><a href="../reference/fetchOSD.html">fetchOSD()</a></code> gains surface shape proportions in extended <code>shape_across</code> and <code>shape_down</code> tables</li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code> <code>what='mukey'</code> now works with <code>db='STATSGO'</code>
</li>
<li>Added metadata to <code>loafercreek</code>, <code>gopheridge</code> and <code>mineralKing</code>
</li>
<li>
<code>waterYearDay()</code> pass through <code>format</code> argument for POSIX time conversion</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.10" id="soildb-2610-2021-12-14">soilDB 2.6.10 (2021-12-14)<a class="anchor" aria-label="anchor" href="#soildb-2610-2021-12-14"></a></h2><p class="text-muted">CRAN release: 2021-12-15</p>
<ul><li>
<code><a href="../reference/waterDayYear.html">waterDayYear()</a></code> and <code>.formatDates()</code> allow optional <code>format</code> and <code>tz</code> argument; used for consistent POSIX time conversion in tests where date/time has granularity finer than one day</li>
<li>
<code><a href="../reference/fetchSDA.html">fetchSDA()</a></code> extensions for better handling of components with no horizon data</li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code> and <code><a href="../reference/processSDA_WKT.html">processSDA_WKT()</a></code> fully use {sf}, replacing {sp} in these contexts</li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code> gains argument <code>byFeature</code> to use multiple single-feature queries and combine the results with a unique feature ID specified by <code>idcol</code> argument. This allows for specific feature intersection results without secondary spatial overlay of the polygons (<a href="https://github.com/ncss-tech/soilDB/issues/222" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/222</a>)</li>
<li>
<code><a href="../reference/dbConnectNASIS.html">dbConnectNASIS()</a></code> no longer requires that the NASIS credentials option be set if the <code>dsn</code> argument is specified.</li>
<li>Rebuilt <code>loafercreek</code>, <code>gopheridge</code> and <code>mineralKing</code> from latest <code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> results.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.9" id="soildb-269-2021-12-02">soilDB 2.6.9 (2021-12-02)<a class="anchor" aria-label="anchor" href="#soildb-269-2021-12-02"></a></h2><p class="text-muted">CRAN release: 2021-12-03</p>
<ul><li>Replaced functionality using {plyr}/{reshape2} with {base}/{data.table}</li>
<li>
<code><a href="../reference/processSDA_WKT.html">processSDA_WKT()</a></code>: replaced {rgeos} with {wk} and {sf}</li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code>: added <code>query_string</code> argument</li>
<li>
<code><a href="../reference/get_SDA_property.html">get_SDA_property()</a></code>: fixes for MIN/MAX aggregation (<a href="https://github.com/ncss-tech/soilDB/issues/219" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/219</a>)</li>
<li>
<code><a href="../reference/fetchSDA.html">get_component_from_SDA()</a></code>: fragment size thresholds now conform with new (clarified) NSSH definitions</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.8" id="soildb-268-2021-11-05">soilDB 2.6.8 (2021-11-05)<a class="anchor" aria-label="anchor" href="#soildb-268-2021-11-05"></a></h2>
<ul><li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> upgrades: use data.table and base internally for data aggregation</li>
<li>
<code>fetchNASIS("components")</code> now “sieves” rock fragments and human artifacts using same routines as for pedons; respects <code>nullFragsAreZero</code> argument</li>
<li>
<code>fetchKSSL(..., returnGeochemicalData = TRUE)</code> safely returns 0-length <code>data.frame</code> when no data available</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.7" id="soildb-267-2021-10-27">soilDB 2.6.7 (2021-10-27)<a class="anchor" aria-label="anchor" href="#soildb-267-2021-10-27"></a></h2>
<ul><li>Removed several packages from Suggests: {gridExtra}, {ggplot2}, {viridisLite}, {mapview}, {rasterVis}</li>
<li>
<code><a href="../reference/get_OSD.html">get_OSD()</a></code>: Handle “NA” and type conversion for JSON results an convert spaces to underscores for file names as needed</li>
<li>
<code><a href="../reference/fetchSCAN.html">fetchSCAN()</a></code>: graceful handling of timeout and converted from {plyr} to {data.table}; (<a href="https://github.com/ncss-tech/soilDB/issues/161" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/161</a>, <a href="https://github.com/ncss-tech/soilDB/issues/184" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/184</a>)</li>
<li>
<code><a href="../reference/get_EDIT_ecoclass_by_geoUnit.html">get_EDIT_ecoclass_by_geoUnit()</a></code>: graceful handling of timeout</li>
<li>
<code><a href="../reference/get_SDA_muaggatt.html">get_SDA_muaggatt()</a></code>: add <code>query_string</code> argument for parity with other “SSURGO on demand” / <code>get_SDA_*()</code> functions</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.6" id="soildb-266-2021-09-24">soilDB 2.6.6 (2021-09-24)<a class="anchor" aria-label="anchor" href="#soildb-266-2021-09-24"></a></h2>
<ul><li>
<code><a href="../reference/get_SDA_pmgroupname.html">get_SDA_pmgroupname()</a></code> and <code><a href="../reference/get_SDA_hydric.html">get_SDA_hydric()</a></code> now support alternate aggregation methods.
<ul><li>Default for <code><a href="../reference/get_SDA_pmgroupname.html">get_SDA_pmgroupname()</a></code> is <code>"dominant component"</code>, now also supports <code>"dominant condition"</code> and <code>"none"</code>.</li>
<li>Default for <code><a href="../reference/get_SDA_hydric.html">get_SDA_hydric()</a></code> is a map unit level aggregation of components and assigns new classes ; now supports <code>"dominant component"</code>, <code>"dominant condition"</code> and <code>"none"</code>
</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.5" id="soildb-265-2021-08-19">soilDB 2.6.5 (2021-08-19)<a class="anchor" aria-label="anchor" href="#soildb-265-2021-08-19"></a></h2><p class="text-muted">CRAN release: 2021-08-21</p>
<ul><li>API calls that return geometry in projected coordinates (AEA/NAD83) now use ESPG:5070 instead of EPSG:6350</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.4" id="soildb-264-2021-08-06">soilDB 2.6.4 (2021-08-06)<a class="anchor" aria-label="anchor" href="#soildb-264-2021-08-06"></a></h2>
<ul><li>
<code>fetchNASIS(from="pedons")</code> now supports <code>fill=TRUE</code> argument just like <code>from="components"</code> to include pedons that have no horizon records</li>
<li>
<code><a href="../reference/createStaticNASIS.html">createStaticNASIS()</a></code>: column order should match NASIS, even if data types require reorder for ODBC driver</li>
<li>
<code><a href="../reference/fetchSoilGrids.html">fetchSoilGrids()</a></code> bug fixes, updates to metadata and references in documentation (<a href="https://github.com/ncss-tech/soilDB/issues/201" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/201</a>)
<ul><li>Corrected the conversion factor used for predicted <code>nitrogen</code> values (conversion from cg/kg to g/kg)</li>
<li>Corrected the conversion factor used for uncertainty in <code>bdod</code> and <code>nitrogen</code> (SoilGrids uncertainty layer always uses factor of 10 to create integers)</li>
<li>Improved error handling</li>
<li>Added <code>progress</code> and <code>verbose</code> arguments for text progress bar and additional message output</li>
<li>Added support for {sf} and {sp} POINT geometry inputs</li>
</ul></li>
<li>Add <code><a href="../reference/get_SDA_coecoclass.html">get_SDA_coecoclass()</a></code> SOD-style method for mapunit/component level summaries of ecological site and other vegetation class information</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.3" id="soildb-263-2021-07-22">soilDB 2.6.3 (2021-07-22)<a class="anchor" aria-label="anchor" href="#soildb-263-2021-07-22"></a></h2><p class="text-muted">CRAN release: 2021-07-23</p>
<ul><li>
<code><a href="../reference/SDA_query.html">SDA_query()</a></code> and all functions that call <code><a href="../reference/SDA_query.html">SDA_query()</a></code> get proper column class handling (related to <a href="https://github.com/ncss-tech/soilDB/issues/190" class="external-link">#190</a>), however:
<ul><li>be careful with the use of CAST(): unknown datatypes may not be correctly interpreted</li>
<li>previous column classes that were incorrectly guessed by <code><a href="https://rdrr.io/r/utils/type.convert.html" class="external-link">type.convert()</a></code> may have changed (e.g. <code>component.wei</code>)</li>
</ul></li>
<li>
<code><a href="../reference/SDA_spatialQuery.html">SDA_spatialQuery()</a></code> can now be used to return soil survey area symbols or geometry using <code>what="areasymbol"</code> or <code>what="sapolygon"</code>, respectively</li>
<li>Added new columns to soil classification (“SC”) table result of <code><a href="../reference/get_soilseries_from_NASIS.html">get_soilseries_from_NASIS()</a></code>; now including taxonomic mineralogy class which may contain multiple parts for series with strongly contrasting control sections</li>
<li>Updates to <code>get_SDA_*()</code> methods
<ul><li>Extends <code>get_SDA_property(property = ...)</code> and <code>get_SDA_interpretation(rulename = ...)</code> vectorization over property/rulename to work with any aggregation method.
<ul><li>Now supports: Dominant Condition, Min, Max, Dominant Component, Weighted Average</li>
</ul></li>
<li>Add <code>query_string</code> argument (default: <code>FALSE</code>). Set as <code>TRUE</code> to skip submitting query to SDA, instead returning a string of the query that would have been sent instead of <em>data.frame</em> result</li>
<li>
<code>get_SDA_property</code>: better handling of NULL, miscellaneous areas, and property-specific weighting
<ul><li>Remove <code>ISNULL(x, 0)</code> logic that affected weighted averages in presence of missing data</li>
<li>Conditional calculation of horizon weights considering NULL values for requested properties (unique weights for each property)</li>
<li>New default argument <code>include_minors=FALSE</code> includes only components where <code>majcompflag = 'Yes'</code> in result</li>
<li>New default argument <code>miscellaneous_areas=FALSE</code> removes miscellaneous land types <code>compkind</code> values from result</li>
<li>Organic and bedrock layers are no longer removed from “Weighted Average”, “MIN” or “MAX” aggregations</li>
</ul></li>
<li>
<code>get_SDA_interpretation</code>: added argument not_rated_value with default value of <code>NA</code> to set “not rated”” values across methods/queries. For backwards compatibility with original SQL use <code>not_rated_value = 99.0</code>
</li>
<li>Standardizing MUKEY column name (and other keys) as lowercase in results</li>
<li>More informative error messages for bad input / arguments inconsistent with specified method</li>
</ul></li>
<li>Thanks to <a href="https://github.com/hammerly" class="external-link">@hammerly</a> who pointed out weighted averaging of NASIS <code>phlabresults</code> wasn’t working as expected and for highlighting some more improvements (<a href="https://github.com/ncss-tech/soilDB/issues/192" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/192</a>)</li>
<li>
<code><a href="../reference/get_OSD.html">get_OSD()</a></code> TXT and HTML formats now supported (in addition to JSON) through a common function interface</li>
<li>Added <code><a href="../reference/get_NASIS_table_key_by_name.html">get_NASIS_table_key_by_name()</a></code> <code><a href="../reference/get_NASIS_table_key_by_name.html">get_NASIS_fkey_by_name()</a></code>, <code><a href="../reference/get_NASIS_table_key_by_name.html">get_NASIS_pkeyref_by_name()</a></code>, <code><a href="../reference/get_NASIS_table_key_by_name.html">get_NASIS_pkey_by_name()</a></code>, <code><a href="../reference/get_NASIS_table_name_by_purpose.html">get_NASIS_table_name_by_purpose()</a></code> methods for helping get information on primary/foreign keys and thematic groups of NASIS tables (useful for creating SQLite/external snapshots of NASIS tables)</li>
<li>
<code><a href="../reference/get_mapunit_from_NASIS.html">get_mapunit_from_NASIS()</a></code>, <code><a href="../reference/get_mapunit_from_NASIS.html">get_legend_from_NASIS()</a></code> and <code><a href="../reference/get_mapunit_from_NASIS.html">get_lmuaoverlap_from_NASIS()</a></code> now works for “MLRA Survey Area” <code>areatypename</code> and no longer is limited by constraints on <code>legendsuituse</code> or <code>mustatus</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.2" id="soildb-262-2021-05-14">soilDB 2.6.2 (2021-05-14)<a class="anchor" aria-label="anchor" href="#soildb-262-2021-05-14"></a></h2><p class="text-muted">CRAN release: 2021-05-16</p>
<ul><li>Added <code>formativeElement</code> argument to <code><a href="../reference/taxaExtent.html">taxaExtent()</a></code> (SoilWeb taxon extent function)
<ul><li>“Formative elements” are derived from the dictionary provided by the {SoilTaxonomy} package (<a href="https://cran.r-project.org/package=SoilTaxonomy" class="external-link uri">https://cran.r-project.org/package=SoilTaxonomy</a>)</li>
<li>For example: <code>taxaExtent("abruptic", level = 'subgroup', formativeElement = TRUE)</code> will get an 800m grid (for SSURGO data in CONUS) showing extent of taxa that have “abruptic” in subgroup-level taxon name</li>
</ul></li>
<li>
<code>fetchNASIS(from="pedons")</code> result now contains the <code>"taxclname"</code> (full family-level taxon name) field from the NASIS <code>pedon</code> table; this value is calculated based on contents of <code>petaxhistory</code> child table</li>
<li>
<code>get_SDA_interpretation</code> and <code>get_SDA_property</code> now support aggregation <code>method="NONE"</code> allowing for returning properties, classes and ratings for individual components or horizons (<a href="https://github.com/ncss-tech/soilDB/pull/181" class="external-link uri">https://github.com/ncss-tech/soilDB/pull/181</a>)</li>
<li>
<code>ISSR800.wcs</code> and <code>mukey.wcs</code> now return a result that inherits from <code>try-error</code> (and a message) if the Web Coverage Service query fails</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.1" id="soildb-261-2021-04-07">soilDB 2.6.1 (2021-04-07)<a class="anchor" aria-label="anchor" href="#soildb-261-2021-04-07"></a></h2><p class="text-muted">CRAN release: 2021-04-18</p>
<ul><li>Connections to local NASIS and various MS Access databases now use <code>DBI</code> and <code>odbc</code>, replacing <code>RODBC</code>
</li>
<li>New methods <code>dbConnectNASIS</code> and <code>dbQueryNASIS</code> for NASIS access with read-only credentials, fetching query results, and closing the <em>DBIConnection</em> upon completion</li>
<li>NASIS methods use <code>dsn</code> argument to specify a local “static” SQLite file containing NASIS tables, or custom <em>DBIConnection</em> to a database with NASIS schema
<ul><li>Default <code>dsn = NULL</code> uses <code>"nasis_local"</code> <a href="http://ncss-tech.github.io/AQP/soilDB/setup_local_nasis.html" class="external-link">ODBC connection</a> to local NASIS SQL Server</li>
</ul></li>
<li>Horizon depth logic checking is now done with <code><a href="https://ncss-tech.github.io/aqp/reference/checkHzDepthLogic.html" class="external-link">aqp::checkHzDepthLogic()</a></code>, powered by {data.table}</li>
<li>Added several new SDA query methods based on <a href="https://github.com/ncss-tech/ssurgoOnDemand" class="external-link uri">https://github.com/ncss-tech/ssurgoOnDemand</a> by <a href="https://github.com/jneme910" class="external-link">@jneme910</a> and <a href="https://github.com/cferguso" class="external-link">@cferguso</a>:
<ul><li>
<code>get_SDA_property</code>, <code>get_SDA_interpretation</code>, <code>get_SDA_muaggatt</code>, <code>get_SDA_hydric</code>, <code>get_SDA_pmgroupname</code>
</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.0" id="soildb-260-2021-02-18">soilDB 2.6.0 (2021-02-18)<a class="anchor" aria-label="anchor" href="#soildb-260-2021-02-18"></a></h2>
<ul><li>
<code>OSDquery</code> gets a new argument (<code>everything</code>) for searching the entire document</li>
<li>
<code>fetchNASIS(..., rmHzErrors=TRUE)</code> – spurious removals of data due to missing “extended” records. <code>fetchNASIS</code> now uses <code>aqp::horizons&lt;-</code> after building a minimal <code>SoilProfileCollection</code> from NASIS site and horizon tables. This allows <code>aqp</code> integrity methods to trigger where needed–preventing unintentional re-ordering or removals of “valid” horizon data.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5.9" id="soildb-259-2021-01-26">soilDB 2.5.9 (2021-01-26)<a class="anchor" aria-label="anchor" href="#soildb-259-2021-01-26"></a></h2><p class="text-muted">CRAN release: 2021-01-26</p>
<ul><li>
<code>HenryTimeLine</code> moved to {sharpshootR} package</li>
<li>new functions <code><a href="../reference/mukey.wcs.html">mukey.wcs()</a></code> and <code><a href="../reference/ISSR800.wcs.html">ISSR800.wcs()</a></code> for hitting web coverage service (WCS) for gSSURGO, gNATSGO, and ISSR-800 grids</li>
<li>new function <code><a href="../reference/ROSETTA.html">ROSETTA()</a></code> for accessing the new ROSETTA model API (c/o Todd Skaggs, USDA-ARS)</li>
<li>
<code>fetchOSD(..., extended=TRUE)</code> gains geographically associated soils, parsed from OSD (thanks AGB)</li>
<li>
<code>fetchSDA_spatial</code> now can return soil survey area polygons using <code>geom.src = "sapolygon"</code> with <code>x</code> as a vector of area symbols (<code>areasymbol</code>) or legend keys (<code>lkey</code>). For <code>sapolygon</code> results, the <code>method</code> and <code>add.field</code> arguments work the same as for <code>mupolygon</code>, only now both geometries can be returned with fields from the <code>legend</code> table.</li>
<li>
<code>fetchSDA_spatial</code> now can return STATSGO <code>gsmmupolygon</code> geometry with <code>db = "STATSGO"</code>; these data are linked to <code>mapunit</code> and (national) <code>legend</code> just like <code>mupolygon</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5.8" id="soildb-258-2020-10-20">soilDB 2.5.8 (2020-10-20)<a class="anchor" aria-label="anchor" href="#soildb-258-2020-10-20"></a></h2><p class="text-muted">CRAN release: 2020-10-21</p>
<ul><li>
<code>fetchNASIS</code> / <code>soilDB:::.rockFragmentSieve</code> now uses fragment RV, <code>soilDB:::.sieve</code> uses <code>&lt;</code> operator (<a href="https://github.com/ncss-tech/soilDB/issues/1" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/1</a>)</li>
<li>
<code>fetchKSSL(..., returnMorphologicData=TRUE)</code> now returns redoximorphic features by horizon</li>
<li>new function <code>taxaExtent</code> returns 800m gridded taxonomic grids for CONUS</li>
<li>
<code>seriesExtent</code> can now return 800m gridded series extents for CONUS</li>
<li>
<code>SDA_spatialQuery</code> can now retrieve SSURGO and STATSGO geometry c/o <a href="https://github.com/dschlaep" class="external-link">dschlaep</a> (<a href="https://github.com/ncss-tech/soilDB/issues/141" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/141</a>)</li>
<li>new import: <code>data.table</code>; beginning to implement <em>data.table</em>-aware methods in <em>aqp</em> and <em>soilDB</em>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5.7" id="soildb-257-2020-09-03">soilDB 2.5.7 (2020-09-03)<a class="anchor" aria-label="anchor" href="#soildb-257-2020-09-03"></a></h2>
<ul><li>add <code>fetchGDB</code> for querying tabular data from SSURGO/gNATSGO/STATSGO File Geodatabases</li>
<li>add <code><a href="../reference/get_NOAA_GHCND.html">get_NOAA_GHCND()</a></code> and <code><a href="../reference/get_NOAA_stations_nearXY.html">get_NOAA_stations_nearXY()</a></code> for batch queries of NOAA Daily Climate Data (requires free API token)</li>
<li>bug fix for <code>fetchSDA_spatial</code> with <code>chunk.size</code> &gt; 1 resulting in duplicate data in result</li>
<li>major improvements to <code>fetchSDA_spatial</code> to handle queries that exceed JSON Serialization Limit</li>
<li>add <code>fetchSoilGrids</code> for point data queries to SoilGrids v2 API with SoilProfileCollection output</li>
<li>
<code>fetchKSSL(..., returnGeochemicalData=TRUE)</code> now returns geochemical, optical and XRD/thermal data</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5.6" id="soildb-256-2020-06-16">soilDB 2.5.6 (2020-06-16)<a class="anchor" aria-label="anchor" href="#soildb-256-2020-06-16"></a></h2>
<ul><li>bug fixes in <code>fetchKSSL</code> related to vectorization, all arguments vectorized except for <code>bbox</code>
</li>
<li>
<code>KSSL_VG_model</code> output cleaned-up, now returns phi -&gt; theta function</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5.3" id="soildb-253-2020-03-22">soilDB 2.5.3 (2020-03-22)<a class="anchor" aria-label="anchor" href="#soildb-253-2020-03-22"></a></h2>
<ul><li>
<code>fetchKSSL</code> is now fully vectorized and builds on new SoilWeb JSON API</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5.2" id="soildb-252-2020-02-05">soilDB 2.5.2 (2020-02-05)<a class="anchor" aria-label="anchor" href="#soildb-252-2020-02-05"></a></h2>
<ul><li>add <code><a href="../reference/fetchNASIS.html">get_concentrations_from_NASIS_db()</a></code> and <code><a href="../reference/fetchNASIS.html">get_phfmp_from_NASIS_db()</a></code> for fetching Pedon Horizon Concentrations and Field Measured Properties from NASIS local database</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5.1" id="soildb-251-2020-01-29">soilDB 2.5.1 (2020-01-29)<a class="anchor" aria-label="anchor" href="#soildb-251-2020-01-29"></a></h2>
<ul><li>bug fix for <code>fetchNASIS(from='components', fill=TRUE, rmHzErrors=TRUE)</code> in context of new <code>::hzDepthTests()</code> and non-unique <code>chiid</code> due to <code>NA</code> values introduced by <code>fill</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5" id="soildb-25-2020-01-23">soilDB 2.5 (2020-01-23)<a class="anchor" aria-label="anchor" href="#soildb-25-2020-01-23"></a></h2><p class="text-muted">CRAN release: 2020-01-28</p>
<ul><li>CRAN release</li>
<li>
<code>simplifyColorData</code> and <code>mix_and_clean_colors</code> always use CIELAB colorspace for weighted averages, and best-available metric for transformation to Munsell notation</li>
<li>
<code>fetchSDA_spatial</code> - new fetch function that simplifies getting spatial data associated with a vector of <code>mukey</code> or <code>nationalmusym</code>. The function has options for customizing result attribute table and is designed to automatically use <code><a href="../reference/makeChunks.html">makeChunks()</a></code> to prevent timeout on large queries.</li>
<li>
<code>aqp::test_hz_logic</code> is now deprecated – refactored affected fetch functions</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.4.3" id="soildb-243-2020-01-07">soilDB 2.4.3 (2020-01-07)<a class="anchor" aria-label="anchor" href="#soildb-243-2020-01-07"></a></h2>
<ul><li>surface water depth added to <code>fetchNASIS_pedons()</code>
</li>
<li>
<code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> has <a href="https://github.com/restrictions" class="external-link">@restrictions</a> set automatically if data are populated</li>
<li>new function for accessing pedon RMF in local NASIS DB: <code><a href="../reference/get_RMF_from_NASIS_db.html">get_RMF_from_NASIS_db()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.4" id="soildb-24-2019-11-05">soilDB 2.4 (2019-11-05)<a class="anchor" aria-label="anchor" href="#soildb-24-2019-11-05"></a></h2>
<ul><li>CRAN release (<a href="https://github.com/ncss-tech/soilDB/releases/tag/2.4" class="external-link uri">https://github.com/ncss-tech/soilDB/releases/tag/2.4</a>)</li>
<li>documentation updates</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3.9" id="soildb-239-2019-07-25">soilDB 2.3.9 (2019-07-25)<a class="anchor" aria-label="anchor" href="#soildb-239-2019-07-25"></a></h2>
<ul><li>SDA_query() no longer writes temporary files, c/o suggestion from Kyle Bocinsky (<a href="https://github.com/ncss-tech/soilDB/issues/106" class="external-link">#106</a> / <a href="https://github.com/ncss-tech/soilDB/issues/108" class="external-link">#108</a>)</li>
<li>fetchOSD() gets a sanity check to protect against going over GET request limits</li>
<li>makeChunks() added to util functions, useful for splitting data before sending API calls</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3.8" id="soildb-238-2019-03-22">soilDB 2.3.8 (2019-03-22)<a class="anchor" aria-label="anchor" href="#soildb-238-2019-03-22"></a></h2>
<ul><li>loafercreek, gopheridge, and mineralking sample data have been updated with valid place-holder in <a href="https://github.com/sp" class="external-link">@sp</a></li>
<li>bug fix for <code><a href="../reference/SDA_query.html">SDA_query()</a></code> related to multi-line records (<a href="https://github.com/ncss-tech/soilDB/issues/28" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/28</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3.7" id="soildb-237-2019-03-12">soilDB 2.3.7 (2019-03-12)<a class="anchor" aria-label="anchor" href="#soildb-237-2019-03-12"></a></h2>
<ul><li>
<code>sharpshootR</code> added to SUGGESTS</li>
<li>
<code><a href="../reference/fetchHenry.html">fetchHenry()</a></code> and fetchSCAN() now include water year/day (Oct 1 – Sep 30)</li>
<li>
<code>HenryTimeLine()</code> convenience function added</li>
<li>bug fix in <code>fetchOSD(..., extended=TRUE)</code> when no climate data available</li>
<li>bug fix in <code><a href="../reference/SDA_query.html">SDA_query()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3.6" id="soildb-236-2019-02-12">soilDB 2.3.6 (2019-02-12)<a class="anchor" aria-label="anchor" href="#soildb-236-2019-02-12"></a></h2>
<ul><li>
<code><a href="../reference/simplifyFragmentData.html">simplifyFragmentData()</a></code> and related functions now 4-5x faster</li>
<li>
<code><a href="../reference/fetchOSD.html">fetchOSD()</a></code> now returns metadata when extended=TRUE</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3.5" id="soildb-235-2019-01-14">soilDB 2.3.5 (2019-01-14)<a class="anchor" aria-label="anchor" href="#soildb-235-2019-01-14"></a></h2><p class="text-muted">CRAN release: 2019-01-14</p>
<ul><li>NAMESPACE and R CMD check fixes</li>
<li>documentation updates</li>
<li>soilDB now suggests <code>stringr</code>
</li>
<li>new tests</li>
<li>release to CRAN</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3.3" id="soildb-233-2018-12-18">soilDB 2.3.3 (2018-12-18)<a class="anchor" aria-label="anchor" href="#soildb-233-2018-12-18"></a></h2>
<ul><li>bug fix in <code><a href="../reference/fetchNASIS.html">fetchNASIS()</a></code> related to conversion of NULL fragment volume to 0</li>
<li>
<code><a href="../reference/fetchKSSL.html">fetchKSSL()</a></code> can now automatically simplify colors with <code>simplifyColors = TRUE</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3" id="soildb-23-2018-11-17">soilDB 2.3 (2018-11-17)<a class="anchor" aria-label="anchor" href="#soildb-23-2018-11-17"></a></h2><p class="text-muted">CRAN release: 2018-11-19</p>
<ul><li>new function for exploring soil series co-occurrence data: <code><a href="../reference/siblings.html">siblings()</a></code>
</li>
<li>
<code>fetchOSD(..., extended=TRUE)</code> gets competing soil series</li>
<li>new tests</li>
<li>removed old sample gSSURGO chunk and related documentation</li>
<li>release to CRAN</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2-6" id="soildb-22-6-2018-10-11">soilDB 2.2-6 (2018-10-11)<a class="anchor" aria-label="anchor" href="#soildb-22-6-2018-10-11"></a></h2>
<ul><li>new function for spatial queries: SDA_spatialQuery(), still needs testing and documentation</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2-6" id="soildb-22-6-2018-10-11-1">soilDB 2.2-6 (2018-10-11)<a class="anchor" aria-label="anchor" href="#soildb-22-6-2018-10-11-1"></a></h2>
<ul><li>
<code><a href="../reference/fetchOSD.html">fetchOSD()</a></code> gets an overhaul, new API and features</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2-5" id="soildb-22-5-2018-10-05">soilDB 2.2-5 (2018-10-05)<a class="anchor" aria-label="anchor" href="#soildb-22-5-2018-10-05"></a></h2>
<ul><li>experimental interface to SoillWeb OSD fulltext search: <code><a href="../reference/OSDquery.html">OSDquery()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2-4" id="soildb-22-4-2018-09-04">soilDB 2.2-4 (2018-09-04)<a class="anchor" aria-label="anchor" href="#soildb-22-4-2018-09-04"></a></h2>
<ul><li>numerous bug-fixes in simplifyFragmentData() see (<a href="https://github.com/ncss-tech/soilDB/issues/70" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/70</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2-1" id="soildb-22-1-2018-05-21">soilDB 2.2-1 (2018-05-21)<a class="anchor" aria-label="anchor" href="#soildb-22-1-2018-05-21"></a></h2>
<ul><li>get_mutext_from_NASIS_db() added for extraction of map unit text notes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2" id="soildb-22-2018-05-08">soilDB 2.2 (2018-05-08)<a class="anchor" aria-label="anchor" href="#soildb-22-2018-05-08"></a></h2>
<ul><li>CRAN release</li>
<li>better bug-fix for fetchSCAN and missing data (<a href="https://github.com/ncss-tech/soilDB/issues/26" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/26</a>)</li>
<li>exposing some of the internal functionality used by fetchHenry</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1-1" id="soildb-21-1-2018-03-29">soilDB 2.1-1 (2018-03-29)<a class="anchor" aria-label="anchor" href="#soildb-21-1-2018-03-29"></a></h2>
<ul><li>added more SCAN/SNOTEL metadata (<a href="https://github.com/ncss-tech/soilDB/issues/61" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/61</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1" id="soildb-21-2018-03-12">soilDB 2.1 (2018-03-12)<a class="anchor" aria-label="anchor" href="#soildb-21-2018-03-12"></a></h2>
<ul><li>generalized local NASIS ODBC authentication, should work on windows 7, 8, 10 <a href="https://github.com/ncss-tech/soilDB/issues/54" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/54</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0-4" id="soildb-20-4-2018-03-06">soilDB 2.0-4 (2018-03-06)<a class="anchor" aria-label="anchor" href="#soildb-20-4-2018-03-06"></a></h2>
<ul><li>bug fix for subtle change in how SCAN data are returned from webservice</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0-3" id="soildb-20-3-2018-02-13">soilDB 2.0-3 (2018-02-13)<a class="anchor" aria-label="anchor" href="#soildb-20-3-2018-02-13"></a></h2>
<ul><li>bug fix for simplifyFragmentData(, nullFragsAreZero=FALSE), still more work to do</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0-2" id="soildb-20-2-2018-01-29">soilDB 2.0-2 (2018-01-29)<a class="anchor" aria-label="anchor" href="#soildb-20-2-2018-01-29"></a></h2>
<ul><li>bug fix for simplifyFragmentData() when fragment volume &gt; 100%</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0-1" id="soildb-20-1-2018-01-23">soilDB 2.0-1 (2018-01-23)<a class="anchor" aria-label="anchor" href="#soildb-20-1-2018-01-23"></a></h2><p class="text-muted">CRAN release: 2018-01-23</p>
<ul><li>updated <code>loafercreek</code> and <code>gopheridge</code> sample datasets and manual page to reflect latest fetchNASIS</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0" id="soildb-20-2017-12-23">soilDB 2.0 (2017-12-23)<a class="anchor" aria-label="anchor" href="#soildb-20-2017-12-23"></a></h2><p class="text-muted">CRAN release: 2018-01-11</p>
<ul><li>bug fixes, manual page updates, and stabilization of NASIS interaction</li>
<li>released to CRAN</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8.12" id="soildb-1812-2017-09-19">soilDB 1.8.12 (2017-09-19)<a class="anchor" aria-label="anchor" href="#soildb-1812-2017-09-19"></a></h2>
<ul><li>bug fix in fetchHenry(), it is now possible to query only sensor metadata</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8.11" id="soildb-1811-2017-08-17">soilDB 1.8.11 (2017-08-17)<a class="anchor" aria-label="anchor" href="#soildb-1811-2017-08-17"></a></h2>
<ul><li>temporary bug-fix related to SCAN data (<a href="https://github.com/ncss-tech/soilDB/issues/26" class="external-link uri">https://github.com/ncss-tech/soilDB/issues/26</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8.10" id="soildb-1810-2017-08-10">soilDB 1.8.10 (2017-08-10)<a class="anchor" aria-label="anchor" href="#soildb-1810-2017-08-10"></a></h2>
<ul><li>re-write of mix_and_clean_colors() so that color mixing happens in CIE LAB space</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8.5" id="soildb-185-2017-05-24">soilDB 1.8.5 (2017-05-24)<a class="anchor" aria-label="anchor" href="#soildb-185-2017-05-24"></a></h2>
<ul><li>re-write of SDA_query(), better error handling, support for multi-part result sets</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8.2" id="soildb-182-2017-03-24">soilDB 1.8.2 (2017-03-24)<a class="anchor" aria-label="anchor" href="#soildb-182-2017-03-24"></a></h2>
<ul><li>fetchHenry() can now access water level data, see manual page</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8.1" id="soildb-181-2017-01-23">soilDB 1.8.1 (2017-01-23)<a class="anchor" aria-label="anchor" href="#soildb-181-2017-01-23"></a></h2>
<ul><li>new function: get_comonth_from_NASIS_db() see manual page for details</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8-10" id="soildb-18-10-2016-12-27">soilDB 1.8-10 (2016-12-27)<a class="anchor" aria-label="anchor" href="#soildb-18-10-2016-12-27"></a></h2>
<ul><li>converting all URLs to ‘HTTPS’, addressing bugs with fetchSCAN() and associated functions</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8-7" id="soildb-18-7-2016-11-16">soilDB 1.8-7 (2016-11-16)<a class="anchor" aria-label="anchor" href="#soildb-18-7-2016-11-16"></a></h2><p class="text-muted">CRAN release: 2016-11-10</p>
<ul><li>sanity checks for fetchHenry()</li>
<li>SCAN_sensor_metadata() vectorized and documented</li>
<li>unique row names in SPDF returned by seriesExtent()</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8-6" id="soildb-18-6-2016-11-04">soilDB 1.8-6 (2016-11-04)<a class="anchor" aria-label="anchor" href="#soildb-18-6-2016-11-04"></a></h2>
<ul><li>converted all links to SoilWeb servers to HTTPS</li>
<li>converted all NRCS web-service links to HTTPS</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8-4" id="soildb-18-4-2016-10-07">soilDB 1.8-4 (2016-10-07)<a class="anchor" aria-label="anchor" href="#soildb-18-4-2016-10-07"></a></h2>
<ul><li>fetchOSD() now returns dry colors and the source “narrative” for each horizon; function gains an argument</li>
<li>fetchOSD() now returns texture class, coarse fragment modifier, pH, and pH class</li>
<li>fetchSCAN() re-written, see manual pages and <a href="http://ncss-tech.github.io/AQP/soilDB/fetchSCAN-demo.html" class="external-link uri">http://ncss-tech.github.io/AQP/soilDB/fetchSCAN-demo.html</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8" id="soildb-18-2016-04-29">soilDB 1.8 (2016-04-29)<a class="anchor" aria-label="anchor" href="#soildb-18-2016-04-29"></a></h2><p class="text-muted">CRAN release: 2016-04-29</p>
<ul><li>fetchKSSL() can now query basic morphologic data with the argument “returnMorphologicData”</li>
<li>two new functions for simplifying NASIS color and fragment data:
<ul><li>simplifyFragmentData()</li>
<li>simplifyColorData()</li>
</ul></li>
<li>^^^ these new functions are now used by fetchNASIS() to summarize color and fragment data (vs. SQL)</li>
<li>NOTE: soilDB now uses reshape2::dcast() instead of reshape::cast()</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.7" id="soildb-17-2016-04-18">soilDB 1.7 (2016-04-18)<a class="anchor" aria-label="anchor" href="#soildb-17-2016-04-18"></a></h2><p class="text-muted">CRAN release: 2016-02-16</p>
<ul><li>bug fix in colors returned by fetchNASIS(), reported by Andy Paolucci</li>
<li>bug fix in SDA_query(), due to changes in httr::content. Thanks Kyle Bocinsky for the fix!</li>
<li>SDA_query() now returns SQL errors generated by SDA</li>
<li>new columns from NASIS site table returned by fetchNASIS()</li>
<li>NASIS pedon ecosite data now returned by fetchNASIS() (c/o J. Skovlin)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.9" id="soildb-169-2015-12-28">soilDB 1.6.9 (2015-12-28)<a class="anchor" aria-label="anchor" href="#soildb-169-2015-12-28"></a></h2>
<ul><li>clean-up in local NASIS queries, removed extra parentheses</li>
<li>NASIS component query function overhaul: previous code may be broken, details pending</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.8" id="soildb-168-2015-12-22">soilDB 1.6.8 (2015-12-22)<a class="anchor" aria-label="anchor" href="#soildb-168-2015-12-22"></a></h2>
<ul><li>added temperature class (temp_class) field from the pedon taxonomic history table (NASIS) [addition suggested by J. Baker]</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.7" id="soildb-167-2015-12-16">soilDB 1.6.7 (2015-12-16)<a class="anchor" aria-label="anchor" href="#soildb-167-2015-12-16"></a></h2>
<ul><li>experimental function for processing SDA queries that return geometry: processSDA_WKT()</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.5" id="soildb-165-2015-12-03">soilDB 1.6.5 (2015-12-03)<a class="anchor" aria-label="anchor" href="#soildb-165-2015-12-03"></a></h2>
<ul><li>bug fix for poorly specified geomorphic descriptions, caused fetchNASIS() to barf</li>
<li>fetchKSSL() gains new query filters, see man page</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.4" id="soildb-164-2015-11-27">soilDB 1.6.4 (2015-11-27)<a class="anchor" aria-label="anchor" href="#soildb-164-2015-11-27"></a></h2>
<ul><li>package re-org, getting ready for soilDB 2.0:
<ul><li>dropping use of <code>RCurl</code> functions in favor of <code>httr</code> alternatives (done)</li>
<li>switch from <code>reshape</code> to <code>reshape2</code> (pending)</li>
<li>possibly move some packages from SUGGESTS to IMPORTS</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.3" id="soildb-163-2015-11-20">soilDB 1.6.3 (2015-11-20)<a class="anchor" aria-label="anchor" href="#soildb-163-2015-11-20"></a></h2>
<ul><li>new spatial query helper functions for SDA</li>
<li>re-named SSURGO_spatial_query() to SoilWeb_spatial_query(), this function may be phased-out due to spatial support now available in SDA</li>
<li>removed MUKEYS_by_ll_bbox() function, no longer needed and web-service may be disabled at any time</li>
<li>mapunit_geom_by_ll_bbox() will probably be removed in the near future with an SDA-based alternative</li>
<li>KSSL data updated (server-side) to June 2015 snapshot, “site_id” column removed from fetchKSSL() results</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6" id="soildb-16-2015-08-19">soilDB 1.6 (2015-08-19)<a class="anchor" aria-label="anchor" href="#soildb-16-2015-08-19"></a></h2>
<ul><li>soilDB now imports from the <code>reshape</code> package, will transition to <code>reshape2</code> with soilDB 2.0</li>
<li>fetchHenry() officially added, complete with documentation</li>
<li>SDA_query() undergoing some upgrades, no longer requires SSOAP / XMLSchema packages</li>
<li>SSOAP / XMLSchema packages no longer in ‘suggests’ list</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5-8" id="soildb-15-8-2015-08-13">soilDB 1.5-8 (2015-08-13)<a class="anchor" aria-label="anchor" href="#soildb-15-8-2015-08-13"></a></h2>
<ul><li>fetchKSSL() gets an argument for downloading data by MLRA</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5-7" id="soildb-15-7-2015-03-10">soilDB 1.5-7 (2015-03-10)<a class="anchor" aria-label="anchor" href="#soildb-15-7-2015-03-10"></a></h2>
<ul><li>updated the <code>loafercreek</code> and <code>gopheridge</code> sample datasets</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5-3" id="soildb-15-3-2015-03-10">soilDB 1.5-3 (2015-03-10)<a class="anchor" aria-label="anchor" href="#soildb-15-3-2015-03-10"></a></h2>
<ul><li>nullFragsAreZero argument to fetchNASIS() reset to TRUE, new documentation pending</li>
<li>consolidate of messages printed when running fetchNASIS()</li>
<li>introduction of new option “soilDB.verbose” (default is FALSE) for increasing the level of QC information printed</li>
<li>new tutorial on fetchNASIS()</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5-2" id="soildb-15-2-2015-02-24">soilDB 1.5-2 (2015-02-24)<a class="anchor" aria-label="anchor" href="#soildb-15-2-2015-02-24"></a></h2><p class="text-muted">CRAN release: 2015-02-25</p>
<ul><li>RODBC temporarily moved from “suggested” package to “imported” package… not a good idea, reverted to “suggested”</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.4-5" id="soildb-14-5-2015-01-20">soilDB 1.4-5 (2015-01-20)<a class="anchor" aria-label="anchor" href="#soildb-14-5-2015-01-20"></a></h2>
<ul><li>mix_and_clean_colors() now returns back-transformed, mixed, munsell colors</li>
<li>added psctopdepth and pscbotdepth back to extended NASIS query (particle size control section depths)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.4-3" id="soildb-14-3-2015-01-12">soilDB 1.4-3 (2015-01-12)<a class="anchor" aria-label="anchor" href="#soildb-14-3-2015-01-12"></a></h2>
<ul><li>get_hz_data_from_NASIS_db() no longer assumes fragment volume of NULL = 0</li>
<li>get_extended_data_from_NASIS_db() no longer assumes fragment volume of NULL = 0</li>
<li>fetchNASIS() has a new argument, nullFragsAreZero=FALSE; set to TRUE for past NULL -&gt; 0 conversion</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.4-2" id="soildb-14-2-2014-12-23">soilDB 1.4-2 (2014-12-23)<a class="anchor" aria-label="anchor" href="#soildb-14-2-2014-12-23"></a></h2>
<ul><li>new internally-used function .formatLandformString() for flattening NASIS/PedonPC “landform” records</li>
<li>new internally-used function .formatParentMaterialString() for flattening NASIS/PedonPC “parent material” records</li>
<li>fetchNASIS() incorporates the results of these two new functions</li>
<li>new function SSURGO_spatial_query() queries SSURGO data from SoilWeb (see manual page for details)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.4" id="soildb-14-2014-11-13">soilDB 1.4 (2014-11-13)<a class="anchor" aria-label="anchor" href="#soildb-14-2014-11-13"></a></h2>
<ul><li>moving most of the hard-to-install packages into <code>suggests</code>, and checking for package availability at function runtime. this will make soilDB more portable, as not every user will want or need all functionality.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3-6" id="soildb-13-6-2014-10-27">soilDB 1.3-6 (2014-10-27)<a class="anchor" aria-label="anchor" href="#soildb-13-6-2014-10-27"></a></h2>
<ul><li>fetchNASIS() gains argument rmHzErrors to optionally retain pedons with horizonation errors. use with caution.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3-5" id="soildb-13-5-2014-09-25">soilDB 1.3-5 (2014-09-25)<a class="anchor" aria-label="anchor" href="#soildb-13-5-2014-09-25"></a></h2>
<ul><li>loafercreek sample dataset re-created from new data</li>
<li>seriesExtent() now utilizes pre-cached GeoJSON files from [<a href="http://casoilresource.lawr.ucdavis.edu/see/" class="external-link uri">http://casoilresource.lawr.ucdavis.edu/see/</a>]</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3" id="soildb-13-2014-02-26">soilDB 1.3 (2014-02-26)<a class="anchor" aria-label="anchor" href="#soildb-13-2014-02-26"></a></h2>
<ul><li>Changes made to fetch functions to accommodate changes implemented in the NASIS 6.3 data structure</li>
<li>get_site_data_from_NASIS_db(): in cases where multiple records in site-bedrock exist, retain only the most shallow</li>
<li>fetchRaCA() has a new argument for querying data by rcasiteid</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2-9" id="soildb-12-9-2014-01-06">soilDB 1.2-9 (2014-01-06)<a class="anchor" aria-label="anchor" href="#soildb-12-9-2014-01-06"></a></h2>
<ul><li>SOC concentration and stock values are temporarily disabled in fetchRaCA()
<ul><li>waiting for new estimates from the Soil Survey Center…</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2-6" id="soildb-12-6-2013-12-05">soilDB 1.2-6 (2013-12-05)<a class="anchor" aria-label="anchor" href="#soildb-12-6-2013-12-05"></a></h2><p class="text-muted">CRAN release: 2013-12-17</p>
<ul><li>added new function contributed by J.M. Skovlin: get_veg_from_NPS_PLOTS_db()</li>
<li>bug fixes in get_extended_data_from_NASIS_db(): results from geomorph tables are now returned</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2-3" id="soildb-12-3-2013-10-25">soilDB 1.2-3 (2013-10-25)<a class="anchor" aria-label="anchor" href="#soildb-12-3-2013-10-25"></a></h2>
<ul><li>added new function fetchSCAN() for downloading soil/climate data from USDA-NRCS SCAN stations (still experimental!)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2-1" id="soildb-12-1-2013-09-12">soilDB 1.2-1 (2013-09-12)<a class="anchor" aria-label="anchor" href="#soildb-12-1-2013-09-12"></a></h2>
<ul><li>bug fixing in fetchRaCA():
<ul><li>“#” characters no longer cause errors</li>
<li>duplicate IDs in source data have been fixed</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2" id="soildb-12-2013-08-13">soilDB 1.2 (2013-08-13)<a class="anchor" aria-label="anchor" href="#soildb-12-2013-08-13"></a></h2>
<ul><li>fetchRaCA() function now stable, ready for general usage</li>
<li>fixed bug in fetchRaCA() function where the presence of single-quote character in horizon designation would throw and error</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1-3" id="soildb-11-3-2013-07-30">soilDB 1.1-3 (2013-07-30)<a class="anchor" aria-label="anchor" href="#soildb-11-3-2013-07-30"></a></h2>
<ul><li>new function get_copedon_from_NASIS_db(): returns basic information associated with pedons linked to component data in NASIS</li>
<li>new function fetchRaCA(): gets data from the Rapid Carbon Assessment project [work in progress]</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1" id="soildb-11-2013-06-27">soilDB 1.1 (2013-06-27)<a class="anchor" aria-label="anchor" href="#soildb-11-2013-06-27"></a></h2>
<ul><li>get_site_data_from_NASIS_db() no longer has problems when more than 1 site bedrock kind is defined; only the shallowest row is returned</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0" id="soildb-10-2013-04-04">soilDB 1.0 (2013-04-04)<a class="anchor" aria-label="anchor" href="#soildb-10-2013-04-04"></a></h2><p class="text-muted">CRAN release: 2013-04-18</p>
<ul><li>fetchNASIS() is now much more efficient: faster / less memory used</li>
<li>new function! fetchKSSL(): experimental interface to (most of) the KSSL data
<ul><li>queries can be performed by series name or GCS bounding box</li>
<li>data are delivered via CA Soil Resource Lab server</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-8" id="soildb-09-8-2013-04-03">soilDB 0.9-8 (2013-04-03)<a class="anchor" aria-label="anchor" href="#soildb-09-8-2013-04-03"></a></h2>
<ul><li>fetchOSD() now immune to queries for non-soils</li>
<li>improved efficiency in fetch* functions</li>
<li>NASIS-DMU fetching functions now return more information, still not as complete as pedon-queries</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-7" id="soildb-09-7-2013-03-01">soilDB 0.9-7 (2013-03-01)<a class="anchor" aria-label="anchor" href="#soildb-09-7-2013-03-01"></a></h2>
<ul><li>NASIS query functions now return only records from the selected set, please test older code!</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-6" id="soildb-09-6-2013-02-26">soilDB 0.9-6 (2013-02-26)<a class="anchor" aria-label="anchor" href="#soildb-09-6-2013-02-26"></a></h2><p class="text-muted">CRAN release: 2013-02-28</p>
<ul><li>new function get_text_notes_from_NASIS_db() – still needs proper documentation</li>
<li>bug fixes to PedonPC and NASIS queries, new data elements returned by extended query functions</li>
<li>SoilWeb queries via URL are now URL-encoded to allow for spaces in soil series names</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-4" id="soildb-09-4-2013-01-31">soilDB 0.9-4 (2013-01-31)<a class="anchor" aria-label="anchor" href="#soildb-09-4-2013-01-31"></a></h2>
<ul><li>new function: fetchOSD() returns basic OSD data as a SoilProfileCollection</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-3" id="soildb-09-3-2013-01-08">soilDB 0.9-3 (2013-01-08)<a class="anchor" aria-label="anchor" href="#soildb-09-3-2013-01-08"></a></h2><p class="text-muted">CRAN release: 2013-01-10</p>
<ul><li>speed-bump in color-fetching functions from NASIS/pedonPC</li>
<li>fetchNASIS() now attempts to correct for &gt;1 pedon/site by appending peiid to pedon_id</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-2" id="soildb-09-2-2012-12-18">soilDB 0.9-2 (2012-12-18)<a class="anchor" aria-label="anchor" href="#soildb-09-2-2012-12-18"></a></h2>
<ul><li>new functions for getting / plotting the geographic extent of a soil series, using the SoilWeb query service: +seriesExtent() : fetches extent as a SpatialPolygonDataFrame +seriesExtentAsGmap() : fetches extent and plots on Google Maps (requires dismo package)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-1" id="soildb-09-1-2012-11-27">soilDB 0.9-1 (2012-11-27)<a class="anchor" aria-label="anchor" href="#soildb-09-1-2012-11-27"></a></h2>
<ul><li>updated functionality in fetchNASIS_component_data() pulls mapunit-level data as well as component-level data</li>
<li>Munsell ‘value’ is now returned from PedonPC/NASIS fetching functions</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9" id="soildb-09-2012-10-24">soilDB 0.9 (2012-10-24)<a class="anchor" aria-label="anchor" href="#soildb-09-2012-10-24"></a></h2>
<ul><li>added a surface fragment summary “surf_frag_summary” to the results of get_extended_data_from_NASIS()
<ul><li>note: this has not been ported to the related PedonPC queries</li>
</ul></li>
<li>integrated surf_frag_summary data into data returned from fetchNASIS(), stored in <a href="https://github.com/site" class="external-link">@site</a>
<ul><li>note: this has not been ported to the related PedonPC queries</li>
</ul></li>
<li>minor bug-fix in horizon-level rock fragment summary SQL which previously mis-classified BD as ST in some, rare cases
<ul><li>note: this has not been ported to the related PedonPC queries</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8-3" id="soildb-08-3-2012-09-28">soilDB 0.8-3 (2012-09-28)<a class="anchor" aria-label="anchor" href="#soildb-08-3-2012-09-28"></a></h2><p class="text-muted">CRAN release: 2012-10-10</p>
<ul><li>site-level data: {elev, slope, aspect} are now named {elev_field, slope_field, aspect_field}
<ul><li>this affects the data returned by fetchNASIS() and fetchPedonPC()</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8-2" id="soildb-08-2-2012-08-23">soilDB 0.8-2 (2012-08-23)<a class="anchor" aria-label="anchor" href="#soildb-08-2-2012-08-23"></a></h2>
<ul><li>compatible with NASIS 6.2</li>
<li>bug fixes</li>
<li>taxhistory selection method is preserved in the results</li>
<li>‘taxonname’ is used instead of ‘sampled_as’ / ’correlated_as, <strong>seems to work, but needs further testing</strong>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8" id="soildb-08-2012-08-20">soilDB 0.8 (2012-08-20)<a class="anchor" aria-label="anchor" href="#soildb-08-2012-08-20"></a></h2>
<ul><li>updating for PedonPC 5.0 and NASIS 6.2
<ul><li>site data contains the best-guessed corresponding row from the taxhistory table, based on:
<ol style="list-style-type: decimal"><li>most recent record, or 2) record with the least amount of missing data</li>
</ol></li>
<li>taxhistory data are now included in the output from get_extended_data_from_pedon_db()</li>
</ul></li>
<li>package is now partially compatible with NASIS 6.2</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6" id="soildb-06-2012-06-19">soilDB 0.6 (2012-06-19)<a class="anchor" aria-label="anchor" href="#soildb-06-2012-06-19"></a></h2>
<ul><li>tidying up documentation, package dependencies, and NAMESPACE</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-6" id="soildb-05-6-2012-04-16">soilDB 0.5-6 (2012-04-16)<a class="anchor" aria-label="anchor" href="#soildb-05-6-2012-04-16"></a></h2>
<ul><li>adding preliminary functions for querying component data from local NASIS</li>
<li>fixed minor bug in SDA_query() and added some links to related documentation</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-1" id="soildb-05-1-2012-02-22">soilDB 0.5-1 (2012-02-22)<a class="anchor" aria-label="anchor" href="#soildb-05-1-2012-02-22"></a></h2>
<ul><li>fetchNASIS() and fetchPedonPC() now integrate `extended’ data</li>
<li>warning and error messages cleaned-up</li>
<li>multiple textures no longer cause duplicate HZ rows (NASIS only)</li>
<li>extended queries now split frags/para-frags</li>
<li>silt fraction is estimated from 100-(sand+clay) when possible</li>
<li>added local NASIS ODBC connection vignette (thanks JMS)</li>
<li>removed dsn argument from NASIS functions as it should always be ‘nasis_local’</li>
<li>new wide-formatted, boolean representation of diagnostic horizon data</li>
<li>queries standardized between NASIS/PedonPC</li>
<li>new fetchNASIS() function for 1-line access to local NASIS data</li>
<li>new sample data set ‘loafercreek’</li>
<li>basic vignette added, switching to knitr-style vignettes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3-3" id="soildb-03-3-2012-01-10">soilDB 0.3-3 (2012-01-10)<a class="anchor" aria-label="anchor" href="#soildb-03-3-2012-01-10"></a></h2><p class="text-muted">CRAN release: 2012-01-16</p>
<ul><li>SDA_query() now functional on MacOS/UNIX-like OSes with (SSOAP 0.8-1, XMLSchema 0.6-0, and XML 3.7-1), thanks to D.T. Lang for the updates!</li>
<li>moving hard to find packages to ‘suggested’ status: SSOAP, RCurl, XML, rgdal</li>
<li>new wrapper function fetchPedonPC() for typical site/pedon/hz queries</li>
<li>new function getHzErrorsPedonPC() for ID-ing pedons with problem horizonation</li>
<li>NOTE: hz data queries will return 2 rows/hz (error) when multiple texture classes are assigned to a single horizon- this is a bug, not a feature!</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3-2" id="soildb-03-2-2011-12-30">soilDB 0.3-2 (2011-12-30)<a class="anchor" aria-label="anchor" href="#soildb-03-2-2011-12-30"></a></h2><p class="text-muted">CRAN release: 2012-01-03</p>
<ul><li>NASIS/pedonPC queries synced</li>
<li>minor bug fixes and documentation updates</li>
<li>updated query structure, switching over to native NASIS/PedonPC IDs</li>
<li>extended summaries added: NASIS only</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2" id="soildb-02-2011-12-27">soilDB 0.2 (2011-12-27)<a class="anchor" aria-label="anchor" href="#soildb-02-2011-12-27"></a></h2>
<ul><li>moved functions out of aqp package</li>
<li>basic query functionality from local NASIS DB (Jay)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1" id="soildb-01-2011-12-23">soilDB 0.1 (2011-12-23)<a class="anchor" aria-label="anchor" href="#soildb-01-2011-12-23"></a></h2>
<ul><li>initial version on r-forge</li>
<li>functions still exist in aqp package… need to move over completely</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dylan Beaudette, Jay Skovlin, Stephen Roecker, Andrew Brown.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

